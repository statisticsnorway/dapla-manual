<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Spørsmål og svar – Dapla-manualen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/dapla-favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-701cf985b04c13a44ea29e1938249dbe.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Ingen resultater",
    "search-matching-documents-text": "treff",
    "search-copy-link-title": "Kopier link til søk",
    "search-hide-matches-text": "Skjul flere treff",
    "search-more-match-text": "flere treff i dokumentet",
    "search-more-matches-text": "flere treff i dokumentet",
    "search-clear-button-title": "Nullstill",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Avbryt",
    "search-submit-button-title": "Send",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="faq.css">
<meta property="og:title" content="Spørsmål og svar – Dapla-manualen">
<meta property="og:description" content="Brukermanualen for SSBs dataplattform Dapla">
<meta property="og:image" content="https://manual.dapla.ssb.no/images/faq-logo.png">
<meta property="og:site_name" content="Dapla-manualen">
<meta property="og:image:height" content="1024">
<meta property="og:image:width" content="1024">
<meta name="twitter:title" content="Spørsmål og svar – Dapla-manualen">
<meta name="twitter:description" content="Brukermanualen for SSBs dataplattform Dapla">
<meta name="twitter:image" content="https://manual.dapla.ssb.no/images/faq-logo.png">
<meta name="twitter:image-height" content="1024">
<meta name="twitter:image-width" content="1024">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/dapla-long.png" alt="Logo for Dapla" class="navbar-logo light-content">
    <img src="./images/dapla-long.png" alt="Logo for Dapla" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Dapla-manualen</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./statistikkere/index.html"> 
<span class="menu-text">Manual</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./news/index.html"> 
<span class="menu-text">Nyheter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog/index.html"> 
<span class="menu-text">Blogg</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./faq.html" aria-current="page"> 
<span class="menu-text">FAQ</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./notebooks/index.html"> 
<span class="menu-text">Eksempler</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./utviklere/lenker.html"> 
<span class="menu-text">Utviklere</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./om-dapla.html"> 
<span class="menu-text">Om Dapla</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hjelp" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hjelp</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hjelp">    
        <li>
    <a class="dropdown-item" href="https://dapla-ctrl.intern.ssb.no/"><i class="bi bi-people-fill" role="img">
</i> 
 <span class="dropdown-text">Dapla Ctrl</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://web.yammer.com/main/org/ssb.no/groups/eyJfdHlwZSI6Ikdyb3VwIiwiaWQiOiI5MDUzMjA2In0/all"><i class="bi bi-people-fill" role="img">
</i> 
 <span class="dropdown-text">Diskusjonsforum</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://ssb.pureservice.com/#/new/7"><i class="bi bi-send-fill" role="img">
</i> 
 <span class="dropdown-text">Kundeservice</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://lab.dapla.ssb.no/"> <i class="bi bi-graph-up" role="img">
</i> 
<span class="menu-text">Dapla Lab</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/statisticsnorway/dapla-manual"> <i class="bi bi-github" role="img" aria-label="Dapla-manual GitHub repository">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-andre-lenker" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Andre lenker</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-andre-lenker">    
        <li>
    <a class="dropdown-item" href="https://lab.dapla-test.ssb.no/"><i class="bi bi-graph-up-arrow" role="img">
</i> 
 <span class="dropdown-text">Dapla Lab (test)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://lab.dapla-dev.ssb.no/"><i class="bi bi-graph-up-arrow" role="img">
</i> 
 <span class="dropdown-text">Dapla Lab (dev)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://console.cloud.google.com/"><i class="bi bi-google" role="img">
</i> 
 <span class="dropdown-text">Google Cloud Console</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dapla-ctrl.intern.ssb.no/"><i class="bi bi-controller" role="img">
</i> 
 <span class="dropdown-text">Dapla Ctrl</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Spørsmål og svar</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Innhold</h2>
   
  <ul>
  <li><a href="#hvordan-finner-jeg-et-google-prosjekt-sin-prosjekt-id" id="toc-hvordan-finner-jeg-et-google-prosjekt-sin-prosjekt-id">Hvordan finner jeg et Google-prosjekt sin prosjekt-ID?</a></li>
  <li><a href="#hvordan-får-jeg-slettet-et-github-repo-under-statisticsnorway" id="toc-hvordan-får-jeg-slettet-et-github-repo-under-statisticsnorway">Hvordan får jeg slettet et GitHub-repo under statisticsnorway?</a></li>
  <li><a href="#hvordan-løser-jeg-feilmeldinger-knyttet-til-at-data-rate-exceeded-i-jupyter" id="toc-hvordan-løser-jeg-feilmeldinger-knyttet-til-at-data-rate-exceeded-i-jupyter">Hvordan løser jeg feilmeldinger knyttet til at <strong>data rate exceeded</strong> i Jupyter?</a></li>
  <li><a href="#hvordan-kan-jeg-gjenopprette-filer-fra-bøtter" id="toc-hvordan-kan-jeg-gjenopprette-filer-fra-bøtter">Hvordan kan jeg gjenopprette filer fra bøtter?</a></li>
  <li><a href="#hvordan-sjekker-jeg-om-kildomaten-er-tilgjengelig-for-mitt-team" id="toc-hvordan-sjekker-jeg-om-kildomaten-er-tilgjengelig-for-mitt-team">Hvordan sjekker jeg om Kildomaten er tilgjengelig for mitt team?</a></li>
  <li><a href="#hvordan-kan-jeg-se-innholdet-i-mitt-team-sine-bøtter" id="toc-hvordan-kan-jeg-se-innholdet-i-mitt-team-sine-bøtter">Hvordan kan jeg se innholdet i mitt team sine bøtter?</a></li>
  <li><a href="#atlantis-feiler-når-jeg-skrur-på-en-feature.-hva-gjør-jeg" id="toc-atlantis-feiler-når-jeg-skrur-på-en-feature.-hva-gjør-jeg">Atlantis feiler når jeg skrur på en <em>feature</em>. Hva gjør jeg?</a></li>
  <li><a href="#jeg-får-meldingen-account-already-exists-når-jeg-prøver-å-logge-meg-inn-på-dapla.-hvordan-løser-jeg-det" id="toc-jeg-får-meldingen-account-already-exists-når-jeg-prøver-å-logge-meg-inn-på-dapla.-hvordan-løser-jeg-det">Jeg får meldingen <strong>Account already exists</strong> når jeg prøver å logge meg inn på Dapla. Hvordan løser jeg det?</a></li>
  <li><a href="#hvorfor-viser-git-status-endringer-når-jeg-ikke-har-endret-filene" id="toc-hvorfor-viser-git-status-endringer-når-jeg-ikke-har-endret-filene">Hvorfor viser <code>git status</code> endringer når jeg ikke har endret filene?</a></li>
  <li><a href="#hvordan-setter-jeg-opp-2fa-med-authenticator-appen-mot-github-etter-at-jeg-har-byttet-telefon" id="toc-hvordan-setter-jeg-opp-2fa-med-authenticator-appen-mot-github-etter-at-jeg-har-byttet-telefon">Hvordan setter jeg opp 2FA med Authenticator-appen mot GitHub etter at jeg har byttet telefon?</a></li>
  <li><a href="#hvorfor-får-jeg-ikke-opprettet-mapper-fra-google-cloud-console-gcc" id="toc-hvorfor-får-jeg-ikke-opprettet-mapper-fra-google-cloud-console-gcc">Hvorfor får jeg ikke opprettet mapper fra Google Cloud Console (GCC)?</a></li>
  <li><a href="#hvor-finner-jeg-dokumentasjonen-til-dapla-lab-tjenester-der" id="toc-hvor-finner-jeg-dokumentasjonen-til-dapla-lab-tjenester-der">Hvor finner jeg dokumentasjonen til Dapla Lab tjenester der?</a></li>
  <li><a href="#hvorfor-får-jeg-feilmelding-i-dapla-lab-etter-å-ha-vært-borte-fra-datamaskinen-min-en-stund" id="toc-hvorfor-får-jeg-feilmelding-i-dapla-lab-etter-å-ha-vært-borte-fra-datamaskinen-min-en-stund">Hvorfor får jeg feilmelding i Dapla Lab etter å ha vært borte fra datamaskinen min en stund?</a></li>
  <li><a href="#hva-betyr-det-at-tjenesten-min-er-suspendert" id="toc-hva-betyr-det-at-tjenesten-min-er-suspendert">Hva betyr det at tjenesten min er <em>suspendert</em>?</a></li>
  <li><a href="#kan-jeg-jobbe-med-kildedata-fra-dapla-lab" id="toc-kan-jeg-jobbe-med-kildedata-fra-dapla-lab">Kan jeg jobbe med kildedata fra Dapla Lab?</a></li>
  <li><a href="#hvorfor-kan-jeg-ikke-jobbe-med-dataene-til-alle-team-jeg-er-med-i-fra-tjenestene-i-dapla-lab" id="toc-hvorfor-kan-jeg-ikke-jobbe-med-dataene-til-alle-team-jeg-er-med-i-fra-tjenestene-i-dapla-lab">Hvorfor kan jeg ikke jobbe med dataene til alle team jeg er med i fra tjenestene i Dapla Lab?</a></li>
  <li><a href="#hvordan-jobber-jeg-med-notebooks-i-vs-code" id="toc-hvordan-jobber-jeg-med-notebooks-i-vs-code">Hvordan jobber jeg med notebooks i VS Code?</a></li>
  <li><a href="#hvordan-kjører-man-en-dash-app" id="toc-hvordan-kjører-man-en-dash-app">Hvordan kjører man en Dash-app?</a></li>
  <li><a href="#hvilke-miljøvariabler-er-tilgjengelig-i-utviklingstjenestene" id="toc-hvilke-miljøvariabler-er-tilgjengelig-i-utviklingstjenestene">Hvilke miljøvariabler er tilgjengelig i utviklingstjenestene?</a></li>
  <li><a href="#hvorfor-får-jeg-feilmelding-når-jeg-prøver-å-slette-en-delt-bøtte-jeg-får-melding-om-at-error-trying-to-delete-bucket-objects-without-force-destroy-set-to-true-når-jeg-prøver-å-slette-en-delt-bøtte-ved-å-fjerne-den-fra-shared-buckets.yaml" id="toc-hvorfor-får-jeg-feilmelding-når-jeg-prøver-å-slette-en-delt-bøtte-jeg-får-melding-om-at-error-trying-to-delete-bucket-objects-without-force-destroy-set-to-true-når-jeg-prøver-å-slette-en-delt-bøtte-ved-å-fjerne-den-fra-shared-buckets.yaml">Hvorfor får jeg feilmelding når jeg prøver å slette en delt-bøtte? Jeg får melding om at <strong>Error trying to delete bucket <bøttenavn> objects without ‘force destroy’ set to true</bøttenavn></strong> når jeg prøver å slette en delt-bøtte ved å fjerne den fra <em>shared-buckets.yaml</em></a></li>
  <li><a href="#hvordan-kan-jeg-pause-en-regelmessig-jobb-i-transfer-service" id="toc-hvordan-kan-jeg-pause-en-regelmessig-jobb-i-transfer-service">Hvordan kan jeg pause en regelmessig jobb i Transfer Service?</a></li>
  <li><a href="#hvordan-søker-jeg-om-åpning-for-utgående-trafikk-i-dapla-lab-åpning-av-apier-for-å-hente-data" id="toc-hvordan-søker-jeg-om-åpning-for-utgående-trafikk-i-dapla-lab-åpning-av-apier-for-å-hente-data">Hvordan søker jeg om åpning for utgående trafikk i Dapla Lab (åpning av APIer for å hente data)?</a></li>
  <li><a href="#hvorfor-fungerer-det-ikke-med-å-melde-seg-ut-av-automatiske-pausingen-av-tjenester-på-dapla-lab" id="toc-hvorfor-fungerer-det-ikke-med-å-melde-seg-ut-av-automatiske-pausingen-av-tjenester-på-dapla-lab">Hvorfor fungerer det ikke med å melde seg ut av automatiske pausingen av tjenester på Dapla Lab?</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/statisticsnorway/dapla-manual/edit/main/dapla-manual/faq.qmd" class="toc-action"><i class="bi bi-github"></i>Rediger siden</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/issues/new" class="toc-action"><i class="bi empty"></i>Rapporter feil</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/blob/main/dapla-manual/faq.qmd" class="toc-action"><i class="bi empty"></i>Vis kilde</a></li></ul></div></nav>
<section id="hvordan-finner-jeg-et-google-prosjekt-sin-prosjekt-id" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-finner-jeg-et-google-prosjekt-sin-prosjekt-id">Hvordan finner jeg et Google-prosjekt sin prosjekt-ID?</h3>
<p>Prosjekt-ID-en til et Google-prosjekt er en unik identifikator som brukes til å identifisere prosjektet i Google Cloud Platform. Prosjekt-ID-en er en streng som består av små bokstaver, tall og bindestrek. Prosjekt-ID-en er ikke det samme som prosjektnavnet, som kan inneholde store bokstaver og mellomrom.</p>
<p>Du finner prosjekt-ID ved logge deg inn på <a href="./statistikkere/gcc.html#innlogging">GCC</a>, <a href="./statistikkere/gcc.html#prosjektvelger">åpne prosjektvelgeren</a>, søk opp ditt prosjekt, og så ser du det i høyre kolonne, slik som vist i denne sladdete kolonnen i <a href="#fig-prosjektvelger" class="quarto-xref">Figur&nbsp;1</a>.</p>
<div id="fig-prosjektvelger" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Bilde som viser prosjektvelgeren i Google Cloud Console">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-prosjektvelger-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./images/prosjektvelger.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figur&nbsp;1: Prosjektvelgeren i Google Cloud Console"><img src="./images/prosjektvelger.png" class="img-fluid figure-img" alt="Bilde som viser prosjektvelgeren i Google Cloud Console"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-prosjektvelger-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;1: Prosjektvelgeren i Google Cloud Console
</figcaption>
</figure>
</div>
</section>
<section id="hvordan-får-jeg-slettet-et-github-repo-under-statisticsnorway" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-får-jeg-slettet-et-github-repo-under-statisticsnorway">Hvordan får jeg slettet et GitHub-repo under statisticsnorway?</h3>
<p>Hovedregelen er at vi arkiverer repoer istedenfor å slette. Det skyldes at vi kan trenge å ettergå historikken i repoer ved et senere tidspunkt. Arkivering av repoer kan du gjøre selv under <strong>Settings</strong> i repoet.</p>
<p>I de tilfellene der du mener at det gir mest mening å slette repoet, så må dette gjøres av en Github-administrator. Da <a href="https://ssb.pureservice.com/">sender du en henvendelse til Kundeservice</a> og ber om at repoet slettes. Husk å oppgi navnet på repoet du ønsker å få slettet.</p>
</section>
<section id="hvordan-løser-jeg-feilmeldinger-knyttet-til-at-data-rate-exceeded-i-jupyter" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-løser-jeg-feilmeldinger-knyttet-til-at-data-rate-exceeded-i-jupyter">Hvordan løser jeg feilmeldinger knyttet til at <strong>data rate exceeded</strong> i Jupyter?</h3>
<p>Når du mottar følgende melding i Jupyter:</p>
<blockquote class="blockquote">
<p><strong>Feilmelding:</strong></p>
<pre><code>IOPub data rate exceeded.
The Jupyter server will temporarily stop sending output
to the client in order to avoid crashing it.
To change this limit, set the config variable
`--ServerApp.iopub_data_rate_limit`.

Current values:
ServerApp.iopub_data_rate_limit=1000000.0 (bytes/sec)
ServerApp.rate_limit_window=3.0 (secs)</code></pre>
</blockquote>
<p>betyr det at mengden data som sendes fra jupyter-kernelen til jupyterlab-frontend overskrider den tillatte grensen. Selv om det er mulig å justere <code>ServerApp.iopub_data_rate_limit</code> og <code>ServerApp.rate_limit_window</code> for å endre denne grensen, ønsker vi ikke dette. Å endre disse verdiene kan ha en negativ påvirkning på Jupyterlab sin ytelse.</p>
<section id="her-er-noen-løsningsforslag" class="level4">
<h4 class="anchored" data-anchor-id="her-er-noen-løsningsforslag">Her er noen løsningsforslag:</h4>
<ol type="1">
<li>Reduser datamengden: Prøv å redusere datamengden du prøver å vise. Hvis du for eksempel viser en stor pandas dataframe, kan du vise kun toppradene med <code>df.head()</code> eller et tilfeldig utvalg med <code>df.sample(10)</code>.</li>
<li>Legg til forsinkelse: Bruk <code>time.sleep()</code>-funksjonen i Python for å legge til en pause mellom hver utskrift. Dette kan spre utdataene over en lengre tidsperiode, noe som kan hjelpe med å unngå å overskride datagrensen.</li>
<li>Skriv til en fil: I stedet for å skrive utdata direkte i Jupyter, kan du vurdere å skrive dataene til en fil. Dette omgår IOPub-datahastighetsgrensen, og du kan se gjennom dataene i ettertid.</li>
<li>Unngå utskrift: Hvis du kun trenger å utføre beregninger eller operasjoner på dataene, vurder å gjøre det uten å skrive ut resultatene i Jupyter.</li>
</ol>
</section>
</section>
<section id="hvordan-kan-jeg-gjenopprette-filer-fra-bøtter" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-kan-jeg-gjenopprette-filer-fra-bøtter">Hvordan kan jeg gjenopprette filer fra bøtter?</h3>
<p>Bøttene som opprettes i <a href="./statistikkere/features.html">featuren <em>dapla-buckets</em></a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> har en <em>Retention policy</em> som gjør at slettede eller overskrevne objekter kan gjenskapes i en viss periode.</p>
<p>I dapla-buckets blir overskrevne og slettede filer noncurrent. En noncurrent versjon blir slettet hvis den er mer enn <strong>180 dager gammel og det er minst 2+ eller 3+ nyere versjoner i bøtta</strong>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>Alle dapla-teamene har objektversjon aktivert som standard på alle bøtter.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Ekspertteam eller Self-managed team
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Hvis bøttene ikke er opprettet gjennom featuren <em>dapla-buckets</em>, men kanskje av et ekspertteam eller ekspertteam, så må man først forhøre seg med teamet om versjonering er skrudd på for bøtta. Hvis den ikke er det så blir kun soft-deleted filer tatt vare på i 7 dager.</p>
</div>
</div>
</div>
<p>For å gjennopprette en <em>non-current</em> eller <em>soft-deleted</em> versjon så benytte funksjonalitet fra <a href="./statistikkere/dapla-toolbelt-metadata.html">dapla-toolbelt</a>. For å gjenskape en versjon så må man først bruke funksjonen <code>get_versions()</code> liste ut ID-en til versjonen:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" data-filename="notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dapla <span class="im">import</span> FileClient</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Set bucket name and folder name(if any)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>bucket <span class="op">=</span> <span class="st">"ssb-dapla-felles-data-produkt-prod"</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>folder <span class="op">=</span> <span class="st">"restore"</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>FileClient.get_versions(bucket, folder)</span></code></pre></div><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Output</strong></p>
<pre><code>[&lt;Blob: ssb-dapla-felles-data-produkt-prod, restore/data1.parquet, 1717762669778835&gt;,
 &lt;Blob: ssb-dapla-felles-data-produkt-prod, restore/data1.parquet, 1718015249969499&gt;,
 &lt;Blob: ssb-dapla-felles-data-produkt-prod, restore/data2.parquet, 1717762673242818&gt;,
 &lt;Blob: ssb-dapla-felles-data-produkt-prod, restore/data3.parquet, 1717762677832930&gt;]</code></pre>
<p>Fra output over ser vi filen <code>data1.parquet</code> finnes i 2 versjoner. Vi kan undersøke den nærmere med følgende kode:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" data-filename="notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>files <span class="op">=</span> FileClient.get_versions(<span class="st">"ssb-dapla-felles-data-produkt-prod"</span>, <span class="st">"restore/data1.parquet"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> files:</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Name          : "</span>,<span class="bu">file</span>.name)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Generation Id : "</span>, <span class="bu">file</span>.generation)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Updated on    : "</span>, <span class="bu">file</span>.updated)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Deleted on    : "</span>, <span class="bu">file</span>.time_deleted)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"------------------------------------------"</span>)</span></code></pre></div><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Output</strong></p>
<pre><code>Name          :  restore/data1.parquet
Generation Id :  1718436304922143
Updated on    :  2024-06-15 07:25:04.928000+00:00
Deleted on    :  2024-06-24 11:10:10.807000+00:00
------------------------------------------
Name          :  restore/data1.parquet
Generation Id :  1719227410801992
Updated on    :  2024-06-24 11:10:10.807000+00:00
Deleted on    :  None
------------------------------------------</code></pre>
<p>Av output over ser vi at det er en fil som som har en verdi i <code>Deleted on</code> feltet og som kan gjenskapes. Ønsker vi å gjenskape versjonen ved å bruke <code>restore_version()</code>og referere til Generation ID:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" data-filename="notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>FileClient.restore_version( source_bucket_name<span class="op">=</span><span class="st">"ssb-dapla-kildomaten-data-delt-test"</span>,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                            source_file_name<span class="op">=</span><span class="st">"restore/data3.parquet"</span>,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                            source_generation_id<span class="op">=</span><span class="dv">1718436304922143</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                            new_name<span class="op">=</span><span class="st">""</span> (optional)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                           )</span></code></pre></div><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Over har vi gjenopprettet en tidligere versjon av fil. Dette betyr at det nå er en ny Live-versjon av filen, og at den som tidligere var Live har blitt <em>non-current</em>. Ved gjenoppretting av <em>non-current</em>-versjoner så kan man også spesifisere nytt navn på filen med parameteret <code>new_name=</code> i <code>restore_version()</code>-funksjonen.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Hvorfor kan jeg ikke bruke Google Cloud Console (GCC)?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Man kan liste ut Live, non-current og soft-deleted versjoner fra GCC, som vist i <a href="#fig-gcc-versions" class="quarto-xref">Figur&nbsp;2</a>. Men man har ikke tilgang til <em>Object details</em> og kan derfor ikke hente ut ID-en til versjonen. Til dette må man benytte dapla-toolbelt fra Dapla Lab.</p>
<div id="fig-gcc-versions" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Bilde av hvordan man velger versjoner i GCC.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gcc-versions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./images/gcc-versions.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figur&nbsp;2: Hvordan liste ut versjoner fra GCC."><img src="./images/gcc-versions.png" class="img-fluid figure-img" alt="Bilde av hvordan man velger versjoner i GCC."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gcc-versions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;2: Hvordan liste ut versjoner fra GCC.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="hvordan-sjekker-jeg-om-kildomaten-er-tilgjengelig-for-mitt-team" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-sjekker-jeg-om-kildomaten-er-tilgjengelig-for-mitt-team">Hvordan sjekker jeg om Kildomaten er tilgjengelig for mitt team?</h3>
<div class="columns">
<div class="column" style="width:47.5%;">
<p>Du kan sjekke om teamet ditt har tilgang til Kildomaten ved å gå inn i teamets IaC-repo. Du finner IaC-repoet ved å søke etter team-navnet på statisticsnorway på Github. Repoet er det som heter <code>&lt;teamnavn&gt;-iac</code>. Inne i repoet går du inn filen <code>infra/projects.yaml</code>.</p>
<p>I eksemplet til høyre ser vi hvordan filen ser ut for det fiktive teamet <strong>dapla-example</strong>. For dette teamet ser vi at Kildomaten er skrudd på i prod-miljøet til teamet, men ikke test-miljøet.</p>
</div><div class="column" style="width:5%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:47.5%;">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dapla-example-iac/infra/projects.yaml</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" data-filename="dapla-example-iac/infra/projects.yaml"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">team_uniform_name</span><span class="kw">:</span><span class="at"> dapla-example</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">projects</span><span class="kw">:</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">project_name</span><span class="kw">:</span><span class="at"> dapla-example</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env</span><span class="kw">:</span><span class="at"> test</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">features</span><span class="kw">:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> dapla-buckets</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">project_name</span><span class="kw">:</span><span class="at"> dapla-example</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env</span><span class="kw">:</span><span class="at"> prod</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">features</span><span class="kw">:</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> dapla-buckets</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> transfer-service</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> kildomaten</span></span></code></pre></div><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</section>
<section id="hvordan-kan-jeg-se-innholdet-i-mitt-team-sine-bøtter" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-kan-jeg-se-innholdet-i-mitt-team-sine-bøtter">Hvordan kan jeg se innholdet i mitt team sine bøtter?</h3>
<p>For å se innholdet i ditt teams sine bøtter kan du enten gjøre dette <a href="./statistikkere/jobbe-med-data.html#filbehandling">med kode fra Jupyter</a>, eller via <a href="https://console.cloud.google.com/">Google Cloud Console (GCC)</a>. Les mer om hvordan man kan <a href="./gcc.html">benytte GCC i SSB</a>.</p>
<p>Husk at det er kun <a href="./statistikkere/hva-er-dapla-team.html#data-admins">data-admins</a> som skal kunne se innhold i kildeprosjektet til teamet. For å gjøre det må de aktivere en tilgang i <a href="./statistikkere/appendix/jit.html">JIT-applikasjonen</a>.</p>
</section>
<section id="atlantis-feiler-når-jeg-skrur-på-en-feature.-hva-gjør-jeg" class="level3">
<h3 class="anchored" data-anchor-id="atlantis-feiler-når-jeg-skrur-på-en-feature.-hva-gjør-jeg">Atlantis feiler når jeg skrur på en <em>feature</em>. Hva gjør jeg?</h3>
<p>Når man skrur på en <em><a href="./features.html">feature</a></em> på Dapla, så er det verktøyet <strong>Atlantis</strong> som ruller ut infrastrukturen på GCP. I mange tilfeller kan det hjelpe å skrive <code>atlantis plan</code> i kommentarfeltet til PR’en, slik at Atlantis får kjørt planen en gang til. Hvis den da ikke viser noen feil, så kan du skrive <code>atlantis apply</code> i kommentarfeltet og endringene vil bli effektuert. Får du fortsatt feilmeldinger etter å ha kjørt <code>atlantis plan</code> på nytt, så bør du kontakte Kundeservice for hjelp.</p>
</section>
<section id="jeg-får-meldingen-account-already-exists-når-jeg-prøver-å-logge-meg-inn-på-dapla.-hvordan-løser-jeg-det" class="level3">
<h3 class="anchored" data-anchor-id="jeg-får-meldingen-account-already-exists-når-jeg-prøver-å-logge-meg-inn-på-dapla.-hvordan-løser-jeg-det">Jeg får meldingen <strong>Account already exists</strong> når jeg prøver å logge meg inn på Dapla. Hvordan løser jeg det?</h3>
<div class="columns">
<div class="column" style="width:47.5%;">
<p>Det hender at man får melding om at <em>Account already exists</em> når man logger seg inn på en Dapla-tjeneste. For å løse dette gjør man følgende:</p>
<ol type="1">
<li>Velg <em>Add to existing account</em> som vist i <a href="#fig-add-existing-account" class="quarto-xref">Figur&nbsp;3</a>.</li>
<li>Velg <em>Google</em> slik som vist i <a href="#fig-authenticate" class="quarto-xref">Figur&nbsp;4</a>.</li>
</ol>
<p>I <a href="#fig-authenticate" class="quarto-xref">Figur&nbsp;4</a> skal du IKKE fylle inn <em>Username or email</em> og <em>Password</em>. Du skal kun trykke på <em>Google</em>-knappen.</p>
<p>Meldingen om at <em>Account already exists</em> forekommer svært sjelden, og typisk skjer det første gang man logger seg inn på en tjeneste.</p>
</div><div class="column" style="width:5%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:47.5%;">
<div id="fig-add-existing-account" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-add-existing-account-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./images/account-already-exist.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figur&nbsp;3: "><img src="./images/account-already-exist.png" id="fig-add-existing-account" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-add-existing-account-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;3
</figcaption>
</figure>
</div>
<div id="fig-authenticate" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-authenticate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./images/account-authenticate-link.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figur&nbsp;4: "><img src="./images/account-authenticate-link.png" id="fig-authenticate" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-authenticate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;4
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="hvorfor-viser-git-status-endringer-når-jeg-ikke-har-endret-filene" class="level3">
<h3 class="anchored" data-anchor-id="hvorfor-viser-git-status-endringer-når-jeg-ikke-har-endret-filene">Hvorfor viser <code>git status</code> endringer når jeg ikke har endret filene?</h3>
<p>Dette kan noen ganger forekomme med notebooks eller <code>ipynb</code>-filer fordi de inneholder metadata som kan bli endret over tid. Siden <code>ipynb</code>-filer er et <code>json</code>-basert format, som inkluderer metadata som oppdaterer seg i bakgrunnen, så kan en endring i strukturen til metadataene føre til endringer i den underliggende <code>json</code>-fila selv om man ikke har gjort endringer i <code>ipynb</code>-fila. Endringene blir deretter plukket opp av <code>git</code> som følger med på endringer i filene.</p>
<p>En mulig løsning er å sjekke inn endringene i kodebasen.</p>
<p>I noen tilfeller viser <code>git status</code> at det har skjedd endringer i filer, men <code>git diff</code> viser ingen endring. I disse tilfellene kan det være ulike problemer i bakgrunnen. <a href="https://statistics-norway.atlassian.net/wiki/spaces/A700/pages/3211952133/Git+status+viser+endrede+filer+men+git+diff+viser+ingen+endring">Se denne oversikten</a> over problemer og tilhørende løsninger.</p>
</section>
<section id="hvordan-setter-jeg-opp-2fa-med-authenticator-appen-mot-github-etter-at-jeg-har-byttet-telefon" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-setter-jeg-opp-2fa-med-authenticator-appen-mot-github-etter-at-jeg-har-byttet-telefon">Hvordan setter jeg opp 2FA med Authenticator-appen mot GitHub etter at jeg har byttet telefon?</h3>
<p>Første gang man begynner å jobbe med kode i SSBs GitHub-organisasjon <a href="https://github.com/statisticsnorway">statisticsnorway</a>, så følger man <a href="./statistikkere/git-og-github.html#to-faktor-autentisering">denne oppskriften fra Dapla-manualen</a>. Men hvis man bytter telefon eller lignende, så må man sette opp dette på nytt.</p>
<p>Prosessen for å bytte 2FA-metode for autentisering er <a href="https://docs.github.com/en/authentication/securing-your-account-with-two-factor-authentication-2fa/changing-your-two-factor-authentication-method#changing-an-existing-two-factor-authentication-method">beskrevet i GitHub sin dokumentasjon</a>. Gjør følgende:</p>
<ol type="1">
<li>Logg deg inn med din bruker på <a href="https://github.com/" class="uri">https://github.com/</a>.</li>
<li>Klikk på din profil, øverst til høyre på siden, og velg <strong>Settings</strong></li>
<li>I menyen til venstre velger du <strong>Password and authentication</strong></li>
<li>Skroll ned til <strong>Two-factor-authentication</strong></li>
<li>Under <strong>Two-factor-methods</strong> vil du se <strong>Authenticator app (Configured)</strong> hvis du har brukt dette tidligere.</li>
<li>Trykk <strong>Edit</strong></li>
<li>Skann QR-koden som dukker opp med Authenticator-appen på din nye mobil.</li>
<li>Følg instruksjonene og lagre autentiseringsmetoden når du er ferdig.</li>
</ol>
</section>
<section id="hvorfor-får-jeg-ikke-opprettet-mapper-fra-google-cloud-console-gcc" class="level3">
<h3 class="anchored" data-anchor-id="hvorfor-får-jeg-ikke-opprettet-mapper-fra-google-cloud-console-gcc">Hvorfor får jeg ikke opprettet mapper fra Google Cloud Console (GCC)?</h3>
<p><a href="https://engage.cloud.microsoft/main/org/ssb.no/threads/eyJfdHlwZSI6IlRocmVhZCIsImlkIjoiMjcxODgyNTU2MTQ5NzYwMCJ9?trk_copy_link=V2">I mars 2024 ble det gjort sikkerhetstiltak på Dapla</a> som innebar at funksjonaliteten <strong>Download</strong>, <strong>Upload</strong> og <strong>Create folder</strong> i GCC ble skrudd av. Hvis man prøver å opprette en mappe på den måten vil man få en feilemelding som starter med<br>
<code>Request is prohibited by organization's policy. vpcServiceControlsUniqueIdentifier:</code></p>
<p>Hvis man skal opprette mapper i en bøtte så må man gjøre det med <a href="./statistikkere/jobbe-med-data.html#opprette-mapper">dapla-toolbelt</a>, eller gjøre det fra en tjeneste som <a href="./statistikkere/jupyter.html">Jupyter</a> i <a href="./statistikkere/dapla-lab.html">Dapla Lab</a>. Sistnevnte metode betyr at man åpner tjenesten som det teamet og tilgangsgruppen som har tilgang til ønsket bøtte, og deretter kan man opprette mapper med <code>mkdir</code> i terminalen.</p>
</section>
<section id="hvor-finner-jeg-dokumentasjonen-til-dapla-lab-tjenester-der" class="level3">
<h3 class="anchored" data-anchor-id="hvor-finner-jeg-dokumentasjonen-til-dapla-lab-tjenester-der">Hvor finner jeg dokumentasjonen til Dapla Lab tjenester der?</h3>
<p>Her finner du <a href="./statistikkere/dapla-lab.html">Dokumentasjonen for Dapla Lab</a>.</p>
<p><a href="./statistikkere/jupyter.html">Dokumentasjon for tjenestene</a> finner du i Dapla-manualen under Datatjenester/Dapla Lab tjenester.</p>
</section>
<section id="hvorfor-får-jeg-feilmelding-i-dapla-lab-etter-å-ha-vært-borte-fra-datamaskinen-min-en-stund" class="level3">
<h3 class="anchored" data-anchor-id="hvorfor-får-jeg-feilmelding-i-dapla-lab-etter-å-ha-vært-borte-fra-datamaskinen-min-en-stund">Hvorfor får jeg feilmelding i Dapla Lab etter å ha vært borte fra datamaskinen min en stund?</h3>
<p>I de fleste tilfeller vil dette løses seg ved at laster inn siden på nytt eller <em>refresher</em> siden.</p>
<p>Grunnen til at det skjer er at Dapla Lab bare er tilgjengelig for de som er logget på SSBs nettverk. Hvis du forlater maskinen med Dapla Lab åpnet i nettleseren over lang tid, så kan det være at du har falt ut av SSBs nettverk og Dapla Lab ikke oppdager at du er logget inn igjen.</p>
</section>
<section id="hva-betyr-det-at-tjenesten-min-er-suspendert" class="level3">
<h3 class="anchored" data-anchor-id="hva-betyr-det-at-tjenesten-min-er-suspendert">Hva betyr det at tjenesten min er <em>suspendert</em>?</h3>
<p><a href="./images/dapla-lab-pause.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="./images/dapla-lab-pause.png" class="img-fluid" style="max-width: 50%; float: right;" alt="Tjenesteikon for Jupyter"></a></p>
<p>At en tjeneste er suspendert betyr at tjenesten er satt på pause. I praksis vil det si at ressursene, f.eks. CPU og RAM, som tjenesten har reservert har blitt frigjort. Man kan starte tjenesten på nytt ved å trykke på <em>Play</em>-knappen i bildet til høyre, og man starter opp tjenesten på nytt med de samme ressursene. Alt som ble lagret i tjenestens lokale filsystem under <code>/home/onyxia/work/</code>blir også gjennopprettet, mens resten blir borte. Derfor bør alltid kode lagres under <code>work</code>-mappen.</p>
</section>
<section id="kan-jeg-jobbe-med-kildedata-fra-dapla-lab" class="level3">
<h3 class="anchored" data-anchor-id="kan-jeg-jobbe-med-kildedata-fra-dapla-lab">Kan jeg jobbe med kildedata fra Dapla Lab?</h3>
<p>Ja. Medlemmer av gruppen <strong>data-admins</strong> kan gi seg selv midlertidig tilgang til kildedata. Dette gjøres ved å bruke Just-in-Time Access (JIT) applikasjonen: <a href="https://jitaccess.dapla.ssb.no">https://jitaccess.dapla.ssb.no</a>. Les <a href="./statistikkere/appendix/jit.html">manual-artikkelen om JIT</a> for en veiledning.</p>
</section>
<section id="hvorfor-kan-jeg-ikke-jobbe-med-dataene-til-alle-team-jeg-er-med-i-fra-tjenestene-i-dapla-lab" class="level3">
<h3 class="anchored" data-anchor-id="hvorfor-kan-jeg-ikke-jobbe-med-dataene-til-alle-team-jeg-er-med-i-fra-tjenestene-i-dapla-lab">Hvorfor kan jeg ikke jobbe med dataene til alle team jeg er med i fra tjenestene i Dapla Lab?</h3>
<p>Mange ansatte i SSB er med i flere Dapla-team, og hvert av brukernes teammedlemskap gir ofte tilgang til data iht til formaålet for teamet. hver av teamene har tilgang til sine data og potensielt andres delt data. For å unngå for brede tilganger til data så innfører vi at en bruker må bestemme seg for hvilket team og tilgangsgruppe de skal representere før de starter arbeid med data i et programmeringsmiljø. Dette gjør at vi kan være sikker på at ingen kan koble data på tvers av team.</p>
</section>
<section id="hvordan-jobber-jeg-med-notebooks-i-vs-code" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-jobber-jeg-med-notebooks-i-vs-code">Hvordan jobber jeg med notebooks i VS Code?</h3>
<p>For å jobbe med notebooks i VS Code kan du gjøre følgende:</p>
<ol type="1">
<li>Åpne en ny <a href="./statistikkere/vscode-python.html">Vscode-python</a></li>
<li>Åpne en terminal under <strong>File/Terminal/New terminal</strong></li>
<li>Opprett et <a href="./statistikkere/ssb-project.html">ssb-project</a> som vanlig under mappen <code>/home/onyxia/work/</code> ved å skrive <code>ssb-project create &lt;prosjektnavn&gt;</code>.
<ul>
<li>Dersom du allerede har et ssb-project, skriver du <code>cd &lt;prosjektnavn&gt;</code> etterfulgt av <code>ssb-project build</code>. Da blir prosjektets tilhørende pakker installert i en kernel med samme navn som prosjektet.</li>
</ul></li>
<li>Gå inn i mappen med <code>cd &lt;prosjektnavn&gt;</code></li>
<li>Installer ønskede pakker <code>poetry add pandas</code>, f.eks. Pandas.</li>
<li>Velg prosjektmappen i filutforskeren ved å gå til <strong>File/Open folder/</strong> og åpne prosjektmappen i boksen som vises.</li>
<li>Opprett en notebook-fil og åpne den.</li>
<li>Trykk <strong>Refresh</strong> på hele nettsiden for å få opp visningen av den nyopprettede kernels.</li>
<li>Øverst til høyre i Notebooken kan du trykke på <strong>Select kernel</strong> og utforskeren velger du <strong>Jupyter kernels</strong> og deretter den som har samme navn som prosjektet ditt.</li>
<li>Til slutt kan du teste at riktig Python-installasjon er valgt ved å importere pakken du akkurat installerte.</li>
</ol>
<p>Du må kjøre en <code>ssb-project build</code>, som beskrevet over, hver gang en instans av Jupyter, eller VSCode blir startet. Hvis du isteden åpner en pauset (suspendert) instans, vil du kunne fortsette arbeidet fra forrige kjøring uten å måtte kjøre <code>ssb-project build</code>.</p>
</section>
<section id="hvordan-kjører-man-en-dash-app" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-kjører-man-en-dash-app">Hvordan kjører man en Dash-app?</h3>
<section id="fra-vscode-python-tjenesten" class="level4">
<h4 class="anchored" data-anchor-id="fra-vscode-python-tjenesten">Fra vscode-python tjenesten</h4>
<p>Det fungerer best å kjøre Dash-apper i en egen fane i nettleseren. Inline-visning av figurer fungerer ikke enda.</p>
<p>Her er et eksempel på hvordan man lager en Dash-app i DaplaLab i en vscode tjeneste:</p>
<ol type="1">
<li>Installer <code>pandas</code> og <code>dash</code> i et <a href="./statistikkere/ssb-project.html">ssb-project</a>.</li>
<li>Opprett et python-script i prosjektet som f.eks. heter <code>app.py</code>.</li>
<li>Kjør scriptet ved å kjøre følgende kommando fra terminalen: <code>poetry run python ./app.py</code></li>
<li>Deretter kommer det opp et dialog-vinduet hvor du velger <code>Open in browser</code>.</li>
</ol>
<p>Her er et eksempel på script som fungerer i Vscode-python:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>app.py</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8" data-filename="app.py"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dash <span class="im">import</span> Dash, html, dcc, callback, Output, Input</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a sample dataset similar to the Gapminder dataset</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'country'</span>: [<span class="st">'Afghanistan'</span>, <span class="st">'Afghanistan'</span>, <span class="st">'Afghanistan'</span>, <span class="st">'Brazil'</span>, <span class="st">'Brazil'</span>, <span class="st">'Brazil'</span>, <span class="st">'China'</span>, <span class="st">'China'</span>, <span class="st">'China'</span>],</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'continent'</span>: [<span class="st">'Asia'</span>, <span class="st">'Asia'</span>, <span class="st">'Asia'</span>, <span class="st">'South America'</span>, <span class="st">'South America'</span>, <span class="st">'South America'</span>, <span class="st">'Asia'</span>, <span class="st">'Asia'</span>, <span class="st">'Asia'</span>],</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'year'</span>: [<span class="dv">1952</span>, <span class="dv">1977</span>, <span class="dv">2007</span>, <span class="dv">1952</span>, <span class="dv">1977</span>, <span class="dv">2007</span>, <span class="dv">1952</span>, <span class="dv">1977</span>, <span class="dv">2007</span>],</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lifeExp'</span>: [<span class="fl">28.801</span>, <span class="fl">39.877</span>, <span class="fl">43.828</span>, <span class="fl">50.917</span>, <span class="fl">59.504</span>, <span class="fl">72.390</span>, <span class="fl">44.000</span>, <span class="fl">63.739</span>, <span class="fl">72.961</span>],</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pop'</span>: [<span class="dv">8425333</span>, <span class="dv">12412311</span>, <span class="dv">31889923</span>, <span class="dv">56602560</span>, <span class="dv">80461570</span>, <span class="dv">190010647</span>, <span class="dv">556263527</span>, <span class="dv">862030000</span>, <span class="dv">1318683096</span>],</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'gdpPercap'</span>: [<span class="fl">779.4453145</span>, <span class="fl">786.11336</span>, <span class="fl">974.5803384</span>, <span class="fl">2108.944355</span>, <span class="fl">5718.766744</span>, <span class="fl">9065.800825</span>, <span class="fl">400.448611</span>, <span class="fl">1488.041713</span>, <span class="fl">4959.114854</span>]</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating DataFrame</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the app</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>app <span class="op">=</span> Dash(</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="va">__name__</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    requests_pathname_prefix<span class="op">=</span><span class="st">'/proxy/8050/'</span>, </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    serve_locally<span class="op">=</span><span class="va">True</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>app.layout <span class="op">=</span> [</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    html.H1(children<span class="op">=</span><span class="st">'Title of Dash App'</span>, style<span class="op">=</span>{<span class="st">'textAlign'</span>:<span class="st">'center'</span>}),</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    dcc.Dropdown(df.country.unique(), <span class="st">'Canada'</span>, <span class="bu">id</span><span class="op">=</span><span class="st">'dropdown-selection'</span>),</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    dcc.Graph(<span class="bu">id</span><span class="op">=</span><span class="st">'graph-content'</span>)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="at">@callback</span>(</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    Output(<span class="st">'graph-content'</span>, <span class="st">'figure'</span>),</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    Input(<span class="st">'dropdown-selection'</span>, <span class="st">'value'</span>)</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> update_graph(value):</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    dff <span class="op">=</span> df[df.country<span class="op">==</span>value]</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> px.line(dff, x<span class="op">=</span><span class="st">'year'</span>, y<span class="op">=</span><span class="st">'pop'</span>)</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    app.run(debug<span class="op">=</span><span class="va">True</span>)</span></code></pre></div><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="fra-jupyter-tjenesten" class="level4">
<h4 class="anchored" data-anchor-id="fra-jupyter-tjenesten">Fra jupyter tjenesten</h4>
<p>Det fungerer best å kjøre Dash-apper i en egen fane i nettleseren, men inline-visning skal også være mulig i notebook.</p>
<p>Her er et eksempel på hvordan man lager en Dash-app i DaplaLab i en jupyter tjeneste:</p>
<ol type="1">
<li>Installer <code>pandas</code> og <code>dash</code> i et <a href="./statistikkere/ssb-project.html">ssb-project</a>.</li>
<li>Opprett en notebook i prosjektet som f.eks. heter <code>app.ipynb</code>.</li>
</ol>
<p>Her er et eksempel på kode som fungerer i jupyter:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>app.ipynb</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" data-filename="app.ipynb"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># %%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Notebook cell 1</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dash <span class="im">import</span> Dash, html, dcc, callback, Output, Input</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># %%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Notebook cell 2</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a sample dataset similar to the Gapminder dataset</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'country'</span>: [<span class="st">'Afghanistan'</span>, <span class="st">'Afghanistan'</span>, <span class="st">'Afghanistan'</span>, <span class="st">'Brazil'</span>, <span class="st">'Brazil'</span>, <span class="st">'Brazil'</span>, <span class="st">'China'</span>, <span class="st">'China'</span>, <span class="st">'China'</span>],</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'continent'</span>: [<span class="st">'Asia'</span>, <span class="st">'Asia'</span>, <span class="st">'Asia'</span>, <span class="st">'South America'</span>, <span class="st">'South America'</span>, <span class="st">'South America'</span>, <span class="st">'Asia'</span>, <span class="st">'Asia'</span>, <span class="st">'Asia'</span>],</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'year'</span>: [<span class="dv">1952</span>, <span class="dv">1977</span>, <span class="dv">2007</span>, <span class="dv">1952</span>, <span class="dv">1977</span>, <span class="dv">2007</span>, <span class="dv">1952</span>, <span class="dv">1977</span>, <span class="dv">2007</span>],</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lifeExp'</span>: [<span class="fl">28.801</span>, <span class="fl">39.877</span>, <span class="fl">43.828</span>, <span class="fl">50.917</span>, <span class="fl">59.504</span>, <span class="fl">72.390</span>, <span class="fl">44.000</span>, <span class="fl">63.739</span>, <span class="fl">72.961</span>],</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pop'</span>: [<span class="dv">8425333</span>, <span class="dv">12412311</span>, <span class="dv">31889923</span>, <span class="dv">56602560</span>, <span class="dv">80461570</span>, <span class="dv">190010647</span>, <span class="dv">556263527</span>, <span class="dv">862030000</span>, <span class="dv">1318683096</span>],</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'gdpPercap'</span>: [<span class="fl">779.4453145</span>, <span class="fl">786.11336</span>, <span class="fl">974.5803384</span>, <span class="fl">2108.944355</span>, <span class="fl">5718.766744</span>, <span class="fl">9065.800825</span>, <span class="fl">400.448611</span>, <span class="fl">1488.041713</span>, <span class="fl">4959.114854</span>]</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating DataFrame</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the app</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>port <span class="op">=</span> <span class="dv">8050</span> <span class="co"># must be between 1024 and 9999</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>service_prefix <span class="op">=</span> os.getenv(<span class="st">'JUPYTERHUB_SERVICE_PREFIX'</span>, <span class="st">'/'</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>domain <span class="op">=</span> os.getenv(<span class="st">'JUPYTERHUB_HTTP_REFERER'</span>, <span class="va">None</span>)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>app <span class="op">=</span> Dash(</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    <span class="va">__name__</span>,</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    requests_pathname_prefix<span class="op">=</span><span class="ss">f"</span><span class="sc">{</span>service_prefix<span class="sc">}</span><span class="ss">proxy/</span><span class="sc">{</span>port<span class="sc">}</span><span class="ss">/"</span>, </span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    serve_locally<span class="op">=</span><span class="va">True</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>app.layout <span class="op">=</span> [</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    html.H1(children<span class="op">=</span><span class="st">'Title of Dash App'</span>, style<span class="op">=</span>{<span class="st">'textAlign'</span>:<span class="st">'center'</span>}),</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>    dcc.Dropdown(df.country.unique(), <span class="st">'Canada'</span>, <span class="bu">id</span><span class="op">=</span><span class="st">'dropdown-selection'</span>),</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    dcc.Graph(<span class="bu">id</span><span class="op">=</span><span class="st">'graph-content'</span>)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a><span class="at">@callback</span>(</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>    Output(<span class="st">'graph-content'</span>, <span class="st">'figure'</span>),</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>    Input(<span class="st">'dropdown-selection'</span>, <span class="st">'value'</span>)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> update_graph(value):</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>    dff <span class="op">=</span> df[df.country<span class="op">==</span>value]</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> px.line(dff, x<span class="op">=</span><span class="st">'year'</span>, y<span class="op">=</span><span class="st">'pop'</span>)</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    <span class="co"># For jupyter_mode, choose between 'external' or 'inline'.</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 'jupyterlab' should also be poosible, but doesn't seem to work...</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>    app.run(jupyter_mode<span class="op">=</span><span class="st">"external"</span>, jupyter_server_url<span class="op">=</span>domain, port<span class="op">=</span>port)</span></code></pre></div><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="hvilke-miljøvariabler-er-tilgjengelig-i-utviklingstjenestene" class="level3">
<h3 class="anchored" data-anchor-id="hvilke-miljøvariabler-er-tilgjengelig-i-utviklingstjenestene">Hvilke miljøvariabler er tilgjengelig i utviklingstjenestene?</h3>
<p>Dette er miljøvariablene som alltid vil være tilgjengelig i Jupyterlab, Rstudio og VSCode:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 31%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>Miljøvariabel</th>
<th>Forklaring</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DAPLA_ENVIRONMENT</td>
<td>Hvilket dapla-lab miljø du kjører i f.eks PROD, TEST eller DEV</td>
</tr>
<tr class="even">
<td>DAPLA_REGION</td>
<td>Hvilket dapla miljø du kjører i f.eks. DAPLA_LAB eller BIP</td>
</tr>
<tr class="odd">
<td>DAPLA_USER</td>
<td>Epostaddressen til den innloggede brukeren f.eks. obr@ssb.no</td>
</tr>
<tr class="even">
<td>DAPLA_SERVICE</td>
<td>Dapla tjenesten som er i bruk f.eks. JUPYTERLAB eller VS_CODE</td>
</tr>
<tr class="odd">
<td>STAT_TEMPLATE_DEFAULT_REFERENCE</td>
<td>Hvilken versjon av ssb-project templatet som skal brukes f.eks. 1.1.8</td>
</tr>
<tr class="even">
<td>PSEUDO_SERVICE_URL</td>
<td>URL til pseudotjenesten for bruk til testing</td>
</tr>
<tr class="odd">
<td>STATBANK_BASE_URL</td>
<td>URL til statistikkbanken</td>
</tr>
<tr class="even">
<td>STATBANK_ENCRYPT_URL</td>
<td>URL til ‘statbank-authenticator’ sitt krypteringsendepunkt</td>
</tr>
<tr class="odd">
<td>STATBANK_TEST_BASE_URL</td>
<td>URL til statistikkbanken (i test)</td>
</tr>
<tr class="even">
<td>STATBANK_TEST_ENCRYPT_URL</td>
<td>URL til ‘statbank-authenticator (i test)’ sitt krypteringsendepunkt</td>
</tr>
</tbody>
</table>
</section>
<section id="hvorfor-får-jeg-feilmelding-når-jeg-prøver-å-slette-en-delt-bøtte-jeg-får-melding-om-at-error-trying-to-delete-bucket-objects-without-force-destroy-set-to-true-når-jeg-prøver-å-slette-en-delt-bøtte-ved-å-fjerne-den-fra-shared-buckets.yaml" class="level3">
<h3 class="anchored" data-anchor-id="hvorfor-får-jeg-feilmelding-når-jeg-prøver-å-slette-en-delt-bøtte-jeg-får-melding-om-at-error-trying-to-delete-bucket-objects-without-force-destroy-set-to-true-når-jeg-prøver-å-slette-en-delt-bøtte-ved-å-fjerne-den-fra-shared-buckets.yaml">Hvorfor får jeg feilmelding når jeg prøver å slette en delt-bøtte? Jeg får melding om at <strong>Error trying to delete bucket <bøttenavn> objects without ‘force destroy’ set to true</bøttenavn></strong> når jeg prøver å slette en delt-bøtte ved å fjerne den fra <em>shared-buckets.yaml</em></h3>
<p>En delt-bøtte kan kun slettes hvis den er helt tom for data. Det betyr at:</p>
<ul>
<li>Alle filer og mapper må være slettet.</li>
<li>Siden filer versjoneres i delt-bøtter må også alle gamle versjoner av filer også være slettet (såkalt <em>non-current</em> objekter).</li>
</ul>
<p>Hvis man har prøvd å slette en delt-bøtte ved fjerne bøtten fra <a href="./statistikkere/deling-av-data.html#opprettelse-av-bøtte">shared-buckets.yaml</a>, kjøre <code>atlantis apply</code> og deretter fått feilmeldingen <code>Error trying to delete bucket &lt;bøttenavn&gt; objects without 'force destroy' set to true</code>, så betyr det at det fortsatt ligger data i bøtta. Da kan du gjøre følgende for å få slettet bøtta:</p>
<ol type="1">
<li><p>Legg til delt-bøtta i buckets-shared.yaml igjen og kjør <code>atlantis apply</code> etter å ha fått godkjenning.</p></li>
<li><p>Kjør følgende Python-script i en tjeneste på Dapla Lab som er startet med teamets <strong>developers</strong>-gruppe og <code>google-cloud-storage</code> er installert:</p></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Notebook</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" data-filename="Notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> google.cloud.storage <span class="im">as</span> storage</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> storage.Client()</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> blob <span class="kw">in</span> client.list_blobs(<span class="st">"FULLT NAVN PÅ DELT-BØTTE"</span>, versions<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    blob.delete()</span></code></pre></div><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ol start="3" type="1">
<li>Fjern delt-bøtta fra buckets-shared.yaml igjen og kjør <code>atlantis apply</code> etter godkjenning.</li>
</ol>
<p>Fungerer ikke det så kan man ta kontakt med Kundeservice og få hjelp.</p>
</section>
<section id="hvordan-kan-jeg-pause-en-regelmessig-jobb-i-transfer-service" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-kan-jeg-pause-en-regelmessig-jobb-i-transfer-service">Hvordan kan jeg pause en regelmessig jobb i Transfer Service?</h3>
<p>Man kan pause en regelmessig jobb med Transfer Service fra <a href="https://console.cloud.google.com/">Google Cloud Console</a> i nettleseren.</p>
<ol type="1">
<li>Åpne <a href="https://console.cloud.google.com/">Consolet</a></li>
<li>Velge riktig Google prosjekt, slik som vist <a href="#fig-project" class="quarto-xref">Figur&nbsp;5</a></li>
</ol>
<div id="fig-project" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-project-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./images/gcc-project-selector.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figur&nbsp;5: Prosjektvelger i Consolet"><img src="./images/gcc-project-selector.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-project-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;5: Prosjektvelger i Consolet
</figcaption>
</figure>
</div>
<ol start="3" type="1">
<li>Søk opp <strong>Transfer Jobs</strong> i søkefeltet øverst på siden.</li>
<li>Velg hvilken Transfer Service jobb som skal endres.</li>
<li>Velg <strong>Disable job</strong> som vist i <a href="#fig-disable" class="quarto-xref">Figur&nbsp;6</a></li>
</ol>
<div id="fig-disable" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-disable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./images/transfer-service-disable.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Figur&nbsp;6: Valg for Transfer Service jobber."><img src="./images/transfer-service-disable.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-disable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;6: Valg for Transfer Service jobber.
</figcaption>
</figure>
</div>
<p>For å aktivere jobben kan man følge stegene over, men da velge <strong>Enable job</strong> i siste steg.</p>
</section>
<section id="hvordan-søker-jeg-om-åpning-for-utgående-trafikk-i-dapla-lab-åpning-av-apier-for-å-hente-data" class="level3">
<h3 class="anchored" data-anchor-id="hvordan-søker-jeg-om-åpning-for-utgående-trafikk-i-dapla-lab-åpning-av-apier-for-å-hente-data">Hvordan søker jeg om åpning for utgående trafikk i Dapla Lab (åpning av APIer for å hente data)?</h3>
<p>Hvis du trenger å hente data fra eksterne kilder til bruk i statistikkproduksjonen (f.eks. APIer), må du søke om tilgang til dette hos Team M2M. Dette gjøres ved å melde sak til Kundeservice. Se veiledning nedenfor.</p>
<p>Fra Byrånettet velg <strong>Arbeidsverktøy</strong> og <strong>Meld sak til kundeservice</strong>. Logg deg inn ved å velge <strong>Logg inn med federert autentisering</strong>. Inne løsningen velger du deretter <strong>Dapla helpdesk</strong>. <a href="#fig-dapla-helpdesk" class="quarto-xref">Figur&nbsp;7</a> viser menyen som vises.</p>
<div id="fig-dapla-helpdesk" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Visning av Dapla Helpdesk">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dapla-helpdesk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./images/dapla-helpdesk.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Figur&nbsp;7: Visning av en Kundeservice-sak"><img src="./images/dapla-helpdesk.png" class="img-fluid figure-img" alt="Visning av Dapla Helpdesk"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dapla-helpdesk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;7: Visning av en Kundeservice-sak
</figcaption>
</figure>
</div>
<p>Fra menyen velger du <strong>Søknad for utgående trafikk i DaplaLab</strong>, fyller ut skjemaet som vises og trykker på «Send».</p>
<p>Team M2M vil så godkjenne eller avslå søknaden. Hvis søknaden godkjennes sendes saken videre til Kundeservice for effektuering. Hvis avslag så får du en begrunnelse for dette fra Team M2M.</p>
</section>
<section id="hvorfor-fungerer-det-ikke-med-å-melde-seg-ut-av-automatiske-pausingen-av-tjenester-på-dapla-lab" class="level3">
<h3 class="anchored" data-anchor-id="hvorfor-fungerer-det-ikke-med-å-melde-seg-ut-av-automatiske-pausingen-av-tjenester-på-dapla-lab">Hvorfor fungerer det ikke med å melde seg ut av automatiske pausingen av tjenester på Dapla Lab?</h3>
<p>Hvis man opplever at en tjeneste fortsatt pauses selv om man har endret visningsnavnet til tjenesten til å inkludere <code>[nosuspend]</code>, så kan det skyldes at man faktisk ikke har lagret det nye navnet. For å lagre det nye navnet så må man trykke <strong>Enter</strong> etter at man skrevet inn <code>[nosuspend]</code>. Gjør man ikke dette kan det tilsynelatende virke som om du har endret navnet selv om det ikke lagret. Du kan verifisere at navnet er riktig ved <em>refreshe</em> siden og se at navnet nå er riktig.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fotnoter</h2>

<ol>
<li id="fn1"><p>Featuren <em>dapla-buckets</em> inkluderer produkt- og kildebøtta i henholdsvis standard- og kildeprosjektet som de fleste statistikkproduserende team får ved opprettelse.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>I produktbøtta blir noncurrent versjoner slettet hvis det er mer enn 2 nyere versjoner, mens for kildebøtta er grensen på 3 nyere versjoner<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/manual\.dapla\.ssb\.no");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This site is heavily inspired by the <a href="https://quarto.org/">Quarto website</a>.</p>
</div>   
    <div class="nav-footer-center">
<p>Kom i gang med Dapla</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/statisticsnorway/dapla-manual/edit/main/dapla-manual/faq.qmd" class="toc-action"><i class="bi bi-github"></i>Rediger siden</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/issues/new" class="toc-action"><i class="bi empty"></i>Rapporter feil</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/blob/main/dapla-manual/faq.qmd" class="toc-action"><i class="bi empty"></i>Vis kilde</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>