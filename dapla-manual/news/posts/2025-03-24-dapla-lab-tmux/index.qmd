---
title: Støtte for langtkjørende jobber på Dapla Lab
subtitle: tmux installert i alle Jupyter, VS Code og RStudio 
categories:
  - Dapla Lab
  - tmux
author:
  - name: Øyvind Bruer-Skarsbø
    affiliation: 
      - name: Seksjon for dataplattform (724)
        email: hobr@ssb.no
date: "03/24/2025"
date-modified: "03/24/2025"
image: ../../../images/dapla-long.png
image-alt: "Bilde av Dapla-logoen"
lightbox: true
draft: false
---

Brukere som har behov for å kjøre jobber på Dapla Lab som tar mer enn 12 timer, har opplevd at kjøringene avbrytes etter noen timer uten noen åpenbar grunn. Feilen har også oppstått når brukeren har lukket nettleser-fanen eller maskinen til brukeren har gått i dvale, selv om dette ikke i teorien skulle påvirke kjøringen. Årsaken virker å være IDE-ene (Jupyter, VS Code og RStudio) pauser jobbene når de blir pauset. 

For å unngå denne oppførselen er terminal-verktøyet [tmux](https://github.com/tmux/tmux/wiki) installert i Jupyter, VS Code og RStudio. tmux er *terminal multiplexer* som lar brukeren kjøre og organisere mange terminal-sesjoner i et vindu. En av fordelene med tmux i denne sammenhengen er at den lar brukeren kjøre prosesser selv om terminalen lukkes. Derfor anbefaler vi at brukere som skal kjøre kode over lang tid (>12h) kjører koden i en tmux-session.

Du kan kjøre ditt Python-script ved å kjøre følgende:

```{.bash filename="Terminal"}
tmux new -s mittsesjon
```
I koden over startes en session med navn **minsesjon**. For å aktivere et shell for ditt ssb-project, slik at din Python-installasjon kan kalles på med `python`-kommandoen i en terminal, så kan du kjøre kommandoen:

```{.bash filename="Terminal"}
poetry shell
```

Nå kan du kjøre scriptet ditt på følgende måte:

```{.bash filename="Terminal"}
python mittskript.py
```

Deretter kan lukke PC-en, eller nettleser-fanen, og være trygg på at skriptet ditt vil kjøre til det er ferdig. Husk at alle tjenester pauses kl 22 hver kveld, så hvis du ikke ønsker det må du også følge [denne oppskriften](../../../statistikkere/dapla-lab.qmd#automatisk-pausing).