---
title: Vardef 
date-modified: "01/31/2025"
---

[Vardef](./vardef.qmd) er SSBs system for dokumentasjon av variabler. Vardef består av et sentralt datalager som man kan interagere med [via et API](https://vardef.intern.test.ssb.no/). Statistikere og forskere i SSB kan benytte seg av API-et gjennom forskjellige notebooks i Python-pakken [dapla-toolbelt-metadata](https://pypi.org/project/dapla-toolbelt-metadata/), som er et mer brukervennlig grensesnitt tilpasset Dapla Lab. Notebookene er delt opp i følgende operasjoner:

- Liste ut definisjoner
- Migrere definisjoner fra Vardok^[Vardok er SSBs tidligere system for variabeldefinisjoner og som erstattes av Vardef.]
- Opprette utkast
- Endre utkast
- Publisere internt
- Publisere eksternt
- Regdigere en publisert variabel definisjon
- Slette utkast

Hvis man ønsker å utføre en spesifikk oppgave i vardef, kan det i noen tilfeller være aktuelt å kombinere disse notebookene for å gjennomføre brukerflyten. 
I listen under kan man se noen eksempler på oppgaver som kan kreve at man kombinerer de ulitke notebookene.

- Tilgjengeliggjøre Vardok definisjon i Vardef
    - **Migrere definisjon fra Vardok -> Endre utkast -> Publisere internt/eksternt**

- Tilgjengeliggjøre en ny variabel definisjon i Vardef
    - **Opprette utkast -> Endre utkast -> Publisere internt/eksternt**



### Migrere fra Vardok

Ønsker man å migrere en variabeldefinisjon så kan man kjøre notebooken for migrering av variabler, som er vist under.

{{< embed ../notebooks/variable_definitions/migrere_variabel_definisjon.ipynb echo=true >}}

### Opprette ny variabeldefinisjon og publisering

Om man skulle ønsker å opprette en ny variabeldefinisjon og publisere denne så må man benytte seg av følgende notebooks. 

- **Opprette utkast -> Endre utkast -> Publisere internt/eksternt**

Under kan man se notebookene for å opprette et utkast, redigere et utkast ved behov og publisere dette internt.

{{< embed ../notebooks/variable_definitions/opprette_utkast.ipynb echo=true >}}

{{< embed ../notebooks/variable_definitions/redigere_utkast.ipynb echo=true >}}

{{< embed ../notebooks/variable_definitions/publisere_variabel_definisjon_internt.ipynb echo=true >}}


### Opprette ny gyldighetsperiode

Endringer som gjøre at variabeldefinisjonen får en annen betydning, krever at man oppretter en ny gyldighetesperiode. 
Dette betyr at definisjonstekseten til variabeldefinisjonen må endres på alle språk. I tillegg må det velges en dato der den nye versjonen av variabeldefinisjonen er gyldig fra. Her er det ikke tilatt å ha mellomrom mellom to versjoner.
For kunne opprete gyldighetesperioder må variabelen være publisert.

Under vises en notebook for å opprette en ny gyldighetesperiode.

{{< embed ../notebooks/variable_definitions/opprette_gyldighetsperiode.ipynb echo=true >}}

### Opprette en patch

Ønsker man å rette feil eller gjøre små endringer på en variabeldefinisjon kan man opprette en patch. 
For å kunne opprette en patch må variabeldefinisjonen være publisert.

{{< embed ../notebooks/variable_definitions/redigere_publisert_variabel_definisjon.ipynb echo=true >}}
