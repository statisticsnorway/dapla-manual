<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SSB-project – Dapla-manualen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../statistikkere/poetry-ssb-project.html" rel="next">
<link href="../statistikkere/git-og-github.html" rel="prev">
<link href="../images/dapla-favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-199c0f716a0383a39b16cbc979109fc4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Ingen resultater",
    "search-matching-documents-text": "treff",
    "search-copy-link-title": "Kopier link til søk",
    "search-hide-matches-text": "Skjul flere treff",
    "search-more-match-text": "flere treff i dokumentet",
    "search-more-matches-text": "flere treff i dokumentet",
    "search-clear-button-title": "Nullstill",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Avbryt",
    "search-submit-button-title": "Send",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="SSB-project – Dapla-manualen">
<meta property="og:description" content="">
<meta property="og:image" content="https://manual.dapla.ssb.no/images/ssbproject_folders.png">
<meta property="og:site_name" content="Dapla-manualen">
<meta property="og:image:alt" content="Bilde av filutforskeren i Jupyterlab med en mappe laget av ssb-project">
<meta property="og:image:height" content="439">
<meta property="og:image:width" content="319">
<meta name="twitter:title" content="SSB-project – Dapla-manualen">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://manual.dapla.ssb.no/images/ssbproject_folders.png">
<meta name="twitter:image:alt" content="Bilde av filutforskeren i Jupyterlab med en mappe laget av ssb-project">
<meta name="twitter:image-height" content="439">
<meta name="twitter:image-width" content="319">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/dapla-long.png" alt="Logo for Dapla" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Dapla-manualen</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../statistikkere/index.html" aria-current="page"> 
<span class="menu-text">Manual</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../utviklere/lenker.html"> 
<span class="menu-text">Utviklere</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../news/index.html"> 
<span class="menu-text">Nyheter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog/index.html"> 
<span class="menu-text">Blogg</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notebooks/index.html"> 
<span class="menu-text">Eksempler</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../om-dapla.html"> 
<span class="menu-text">Om Dapla</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hjelp" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hjelp</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hjelp">    
        <li>
    <a class="dropdown-item" href="https://dapla-ctrl.intern.ssb.no/"><i class="bi bi-people-fill" role="img">
</i> 
 <span class="dropdown-text">Dapla Ctrl</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://web.yammer.com/main/org/ssb.no/groups/eyJfdHlwZSI6Ikdyb3VwIiwiaWQiOiI5MDUzMjA2In0/all"><i class="bi bi-people-fill" role="img">
</i> 
 <span class="dropdown-text">Diskusjonsforum</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://ssb.pureservice.com/#/new/7"><i class="bi bi-send-fill" role="img">
</i> 
 <span class="dropdown-text">Kundeservice</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../faq.html"><i class="bi bi-question-circle-fill" role="img">
</i> 
 <span class="dropdown-text">FAQ</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-logg-inn" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-person-circle" role="img">
</i> 
 <span class="menu-text">Logg inn</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-logg-inn">    
        <li>
    <a class="dropdown-item" href="https://lab.dapla.ssb.no/"><i class="bi bi-graph-up" role="img">
</i> 
 <span class="dropdown-text">Dapla Lab (prod)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://lab.dapla-test.ssb.no/"><i class="bi bi-graph-up-arrow" role="img">
</i> 
 <span class="dropdown-text">Dapla Lab (test)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://lab.dapla-dev.ssb.no/"><i class="bi bi-graph-up-arrow" role="img">
</i> 
 <span class="dropdown-text">Dapla Lab (dev)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jupyter.dapla.ssb.no/"><i class="bi bi-journal-code" role="img">
</i> 
 <span class="dropdown-text">JupyterLab (prod)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jupyter.dapla-staging.ssb.no/"><i class="bi bi-journal-code" role="img">
</i> 
 <span class="dropdown-text">JupyterLab (staging)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://console.cloud.google.com/"><i class="bi bi-google" role="img">
</i> 
 <span class="dropdown-text">Google Cloud Console</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://datahub.external.staging.ssb.cloud.nais.io/explore"><i class="bi bi-database-fill" role="img">
</i> 
 <span class="dropdown-text">DaplaHub (POC)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dapla-ctrl.intern.ssb.no/"><i class="bi bi-controller" role="img">
</i> 
 <span class="dropdown-text">Dapla Ctrl</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/statisticsnorway/dapla-manual"> <i class="bi bi-github" role="img" aria-label="Dapla-manual GitHub repository">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../statistikkere/git-og-github.html">Kode</a></li><li class="breadcrumb-item"><a href="../statistikkere/ssb-project.html">SSB-project</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hurtigstart</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/hva-er-dapla-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dapla-team</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/hva-er-dapla-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hva er Dapla-team?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/tilgangsstyring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tilgangsstyring</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/administrasjon-av-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Administrasjon av team</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/jobbe-med-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/jobbe-med-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jobbe med data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/hva-er-botter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hva er bøtter?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/deling-av-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deling av data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/git-og-github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kode</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/git-og-github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git og GitHub</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/ssb-project.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">SSB-project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/poetry-ssb-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pakkehåndtering i Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pakkehåndtering i R - renv</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/standarder.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Standarder</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/standarder.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Standarder</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/datatilstander.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datatilstander</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/navnestandard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Navnestandard</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/kvakk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kvalitet i kode og koding (KVAKK)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/dapla-lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dapla Lab</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/datadoc-editor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datadoc-editor</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/jdemetra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jdemetra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/jupyter-playground.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter-playground</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/jupyter-pyspark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter-pyspark</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rstudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/vardef-forvaltning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vardef-forvaltning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/vscode-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vscode-python</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/metadata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metadata</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/datadoc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datadoc</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/datadoc-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datamodell</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/klass.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Klass</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/vardef.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vardef</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/kildomaten.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datatjenester</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/altinn-dapla-suv-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dapla-suv-tools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/kildomaten.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kildomaten</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/dapla-ctrl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dapla Ctrl</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/dapla-pseudo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dapla-toolbelt-pseudo</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/dapla-toolbelt-metadata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dapla-toolbelt-metadata</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/datadoc-toolbelt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datadoc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/vardef-toolbelt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vardef</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/standards-toolbelt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Standards</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/maskinporten-guardian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Maskinporten Guardian</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/dapla-statbank-client.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dapla-statbank-client</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/data-collector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data-Collector</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/features.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Features</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/transfer-service.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transfer Service</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/metodebibliotek.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metodebiblioteket</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/gcc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Google Cloud Console (GCC)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/altinn-oversikt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Altinn 3</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/altinn-oversikt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Oversikt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/altinn-bygge-prefill.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefill</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/altinn-skjema-administrasjon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Administrasjon av skjema</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/altinn-sfu.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SFU</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../statistikkere/dashboard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/contribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bidra til Dapla-manualen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/arkivering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arkivering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/dashboard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dash og dashboard</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/innlogging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Innlogging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/jit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Just-in-Time Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Apache Spark</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/kartdata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kartdata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistikkere/filinnsamling-moveit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Filinnsamling via MoveIT</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Innhold</h2>
   
  <ul>
  <li><a href="#forberedelser" id="toc-forberedelser" class="nav-link active" data-scroll-target="#forberedelser">Forberedelser</a></li>
  <li><a href="#opprett-ssb-project" id="toc-opprett-ssb-project" class="nav-link" data-scroll-target="#opprett-ssb-project">Opprett ssb-project</a>
  <ul class="collapse">
  <li><a href="#uten-github-repo" id="toc-uten-github-repo" class="nav-link" data-scroll-target="#uten-github-repo">Uten GitHub-repo</a></li>
  <li><a href="#med-github-repo" id="toc-med-github-repo" class="nav-link" data-scroll-target="#med-github-repo">Med Github-repo</a></li>
  </ul></li>
  <li><a href="#bygg-eksisterende-ssb-project" id="toc-bygg-eksisterende-ssb-project" class="nav-link" data-scroll-target="#bygg-eksisterende-ssb-project">Bygg eksisterende ssb-project</a></li>
  <li><a href="#slette-ssb-project" id="toc-slette-ssb-project" class="nav-link" data-scroll-target="#slette-ssb-project">Slette ssb-project</a>
  <ul class="collapse">
  <li><a href="#lokalt" id="toc-lokalt" class="nav-link" data-scroll-target="#lokalt">Lokalt</a></li>
  <li><a href="#arkiver-github-repo" id="toc-arkiver-github-repo" class="nav-link" data-scroll-target="#arkiver-github-repo">Arkiver GitHub-repo</a></li>
  </ul></li>
  <li><a href="#spark-i-ssb-project" id="toc-spark-i-ssb-project" class="nav-link" data-scroll-target="#spark-i-ssb-project">Spark i ssb-project</a>
  <ul class="collapse">
  <li><a href="#lokal-maskin" id="toc-lokal-maskin" class="nav-link" data-scroll-target="#lokal-maskin">Lokal maskin</a></li>
  <li><a href="#cluster" id="toc-cluster" class="nav-link" data-scroll-target="#cluster">Cluster</a></li>
  </ul></li>
  <li><a href="#tips-og-triks" id="toc-tips-og-triks" class="nav-link" data-scroll-target="#tips-og-triks">Tips og triks</a>
  <ul class="collapse">
  <li><a href="#poetry" id="toc-poetry" class="nav-link" data-scroll-target="#poetry">Poetry</a></li>
  <li><a href="#full-disk-på-dapla" id="toc-full-disk-på-dapla" class="nav-link" data-scroll-target="#full-disk-på-dapla">Full disk på Dapla</a></li>
  </ul></li>
  <li><a href="#r-og-renv" id="toc-r-og-renv" class="nav-link" data-scroll-target="#r-og-renv">R og renv</a>
  <ul class="collapse">
  <li><a href="#starte-renv-i-et-eksisterende-prosjekt" id="toc-starte-renv-i-et-eksisterende-prosjekt" class="nav-link" data-scroll-target="#starte-renv-i-et-eksisterende-prosjekt">Starte renv i et eksisterende prosjekt</a></li>
  <li><a href="#kobler-en-.r-eller-notebook-fil-til-et-renv-miljø" id="toc-kobler-en-.r-eller-notebook-fil-til-et-renv-miljø" class="nav-link" data-scroll-target="#kobler-en-.r-eller-notebook-fil-til-et-renv-miljø">Kobler en .R eller notebook fil til et renv-miljø</a></li>
  <li><a href="#installering-av-pakker" id="toc-installering-av-pakker" class="nav-link" data-scroll-target="#installering-av-pakker">Installering av pakker</a></li>
  <li><a href="#dele-prosjektet-og-renv-miljøet-med-andre" id="toc-dele-prosjektet-og-renv-miljøet-med-andre" class="nav-link" data-scroll-target="#dele-prosjektet-og-renv-miljøet-med-andre">Dele prosjektet og renv-miljøet med andre</a></li>
  <li><a href="#ta-i-bruk-et-prosjekt-og-renv-miljø-fra-andre" id="toc-ta-i-bruk-et-prosjekt-og-renv-miljø-fra-andre" class="nav-link" data-scroll-target="#ta-i-bruk-et-prosjekt-og-renv-miljø-fra-andre">Ta i bruk et prosjekt og renv-miljø fra andre</a></li>
  <li><a href="#avinstallering" id="toc-avinstallering" class="nav-link" data-scroll-target="#avinstallering">Avinstallering</a></li>
  <li><a href="#oppgradere-pakker" id="toc-oppgradere-pakker" class="nav-link" data-scroll-target="#oppgradere-pakker">Oppgradere pakker</a></li>
  <li><a href="#oppgradering-av-r" id="toc-oppgradering-av-r" class="nav-link" data-scroll-target="#oppgradering-av-r">Oppgradering av R</a></li>
  <li><a href="#ta-det-lang-tid-til-å-starte-et-renv-miljø" id="toc-ta-det-lang-tid-til-å-starte-et-renv-miljø" class="nav-link" data-scroll-target="#ta-det-lang-tid-til-å-starte-et-renv-miljø">Ta det lang tid til å starte et renv-miljø?</a></li>
  <li><a href="#flytting-mellom-jupyter-på-bakken-og-dapla" id="toc-flytting-mellom-jupyter-på-bakken-og-dapla" class="nav-link" data-scroll-target="#flytting-mellom-jupyter-på-bakken-og-dapla">Flytting mellom jupyter på bakken og Dapla</a></li>
  <li><a href="#pakke-installering-med-renv-på-bakken" id="toc-pakke-installering-med-renv-på-bakken" class="nav-link" data-scroll-target="#pakke-installering-med-renv-på-bakken">Pakke installering med renv på bakken</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/statisticsnorway/dapla-manual/edit/main/dapla-manual/statistikkere/ssb-project.qmd" class="toc-action"><i class="bi bi-github"></i>Rediger siden</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/issues/new" class="toc-action"><i class="bi empty"></i>Rapporter feil</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/blob/main/dapla-manual/statistikkere/ssb-project.qmd" class="toc-action"><i class="bi empty"></i>Vis kilde</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../statistikkere/git-og-github.html">Kode</a></li><li class="breadcrumb-item"><a href="../statistikkere/ssb-project.html">SSB-project</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">SSB-project</h1>
</div>



<div class="quarto-title-meta">

    
  
    <div>
    <div class="quarto-title-meta-heading">Sist endret</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">January 14, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Denne artikkelen fokuserer på SSB-project som GitHub-mal. Vi har skrevet en egen artikkel for SSB-project som verktøy for å håndtere Python-pakker: <a href="../statistikkere/poetry-ssb-project.html">Pakkehåndtering i Python</a>.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
I farta? SSB-project på 1-2-3!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>SSB-project er en mal for GitHub repoer som lar deg håndtere pakker i Python med poetry.</p>
<p>Etter en <code>git clone</code>, kjør:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ssb-project</span> build</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dette aktiverer poetry, installerer pakker og lager en kernel med navnet til repoet. Dette bør gjøres hver gang <em>poetry.toml</em> filen endrer seg for at kernelen oppdaterer seg.</p>
<p>Kjør <code>poetry add &lt;navn på pakke&gt;</code> i terminalen for å installere pakker i en kernel.</p>
</div>
</div>
</div>
<p>Statistikkproduksjon på Dapla må være <em>reproduserbart</em>, <em>delbart</em> og <em>gjenkjennelig</em>. SSB-project er et verktøy som hjelper deg med dette ved å gjøre følgende:</p>
<ul>
<li>versjonshåndtere kode med <strong>Git</strong></li>
<li>opprette et <strong>GitHub</strong>-repo etter SSB-standard</li>
<li>opprette et <strong>virtuelt miljø</strong> som husker hvilke versjoner av pakker og programmeringsspråk du brukte</li>
<li>opprette en <strong>Jupyter kernel</strong> som kan brukes i Jupyterlab</li>
<li>konfigurere prosjektet til å passe med enten prodsonen eller Dapla.</li>
</ul>
<p>Vi mener at <strong>ssb-project</strong> er et naturlig sted å starte når man skal bygge opp koden i Python eller R. Det gjelder både på bakken og på sky. I denne delen av kapitlet forklarer vi deg hvordan du kan ta i bruk <strong>ssb-project</strong>.</p>
<p>Kort fortalt kan du kjøre denne kommandoen i en terminal:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ssb-project</span> create stat-testprod</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Da vil få en mappe som heter <strong>stat-testprod</strong> med følgende innhold:</p>
<ol type="1">
<li><strong>Standard mappestruktur</strong> En standard mappestruktur gjør det lettere å dele og samarbeide om kode, som igjen reduserer sårbarheten knyttet til at få personer kjenner koden.</li>
<li><strong>Virtuelt miljø</strong> Virtuelle miljøer isolerer og lagrer informasjon knyttet til kode. For eksempel hvilken versjon av Python du bruker og tilhørende pakkeversjoner. Det er viktig for at publiserte tall skal være reproduserbare. Verktøyet for å lage virtuelt miljø er <a href="https://python-poetry.org/docs/">Poetry</a>.</li>
<li><strong>Versjonshåndtering med Git</strong> Initierer versjonshåndtering med <a href="https://git-scm.com/">Git</a> og legger til SSBs anbefalte <em>.gitignore</em> og <em>.gitattributes</em>. Det sikrer at du ikke versjonhåndterer filer/informasjon som ikke skal versjonshåndteres.</li>
</ol>
<p>I tillegg lar <strong>ssb-project</strong> deg opprette et GitHub-repo hvis du ønsker. Hvis du velger å la <strong>ssb-project</strong> opprette et GitHub-repo for deg, så vil det også sette opp SSBs anbefalte GitHub-oppsett. Det er viktig for at du skal kunne dele koden din med andre i SSB på en sikker måte.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dokumentasjonen for <code>ssb-project</code> finnes her: <a href="https://statisticsnorway.github.io/ssb-project-cli/" class="uri">https://statisticsnorway.github.io/ssb-project-cli/</a>. Det oppdateres hver gang en ny versjon av <code>ssb-project</code> slippes.</p>
</div>
</div>
<section id="forberedelser" class="level2">
<h2 class="anchored" data-anchor-id="forberedelser">Forberedelser</h2>
<p>Før du kan ta i bruk <strong>ssb-project</strong> så er det et par ting som må være på plass:</p>
<ol type="1">
<li>Du må ha konfigurert Git etter SSB sin standard (<a href="../statistikkere/git-og-github.html#oppsett-av-git">les mer om hvordan her</a>).</li>
<li>Hvis du ønsker at <strong>ssb-project</strong> også skal opprette et GitHub-repo for deg må også følgende være på plass:
<ol type="a">
<li>Du må ha en <strong>GitHub-bruker</strong> (<a href="../statistikkere/git-og-github.html#opprett-github-bruker">les hvordan her</a>)</li>
<li>Skru på <strong>2-faktor autentifisering</strong> for GitHub-brukeren din (<a href="../statistikkere/git-og-github.html#sec-tofaktor">les hvordan her</a>)</li>
<li>Være koblet mot SSBs organisasjon <a href="https://github.com/statisticsnorway">statisticsnorway</a> på GitHub (<a href="../statistikkere/git-og-github.html#koble-deg-til-ssb">les hvordan her</a>)</li>
<li>Opprette <strong>Personal Access Token (PAT)</strong> og godkjenne det for bruk mot <strong>statisticsnorway</strong> (<a href="../statistikkere/git-og-github.html#personal-access-token-pat">les hvordan her</a>)</li>
</ol></li>
</ol>
<p>Det er også å anbefale at du <a href="../statistikkere/git-og-github.html#lagre-pat">lagrer PAT lokalt/i Dapla Lab</a> slik at du ikke trenger å forholde deg til det når jobber med Git og GitHub. Hvis du har alt dette på plass så kan du bare fortsette å følge de neste kapitlene.</p>
</section>
<section id="opprett-ssb-project" class="level2">
<h2 class="anchored" data-anchor-id="opprett-ssb-project">Opprett ssb-project</h2>
<section id="uten-github-repo" class="level3">
<h3 class="anchored" data-anchor-id="uten-github-repo">Uten GitHub-repo</h3>
<p>For å opprette et nytt <strong>ssb-project</strong> uten GitHub-repo gjør du følgende:</p>
<ol type="1">
<li><p>Åpne en terminal. De fleste vil gjøre dette i Jupyterlab på bakke eller sky og da kan de bare trykke på det blå ➕-tegnet i Jupyterlab og velge <strong>Terminal</strong>.</p></li>
<li><p>Før vi kjører programmet må vi være obs på at <strong>ssb-project</strong> vil opprette en ny mappe der vi står. Gå derfor til den mappen du ønsker å ha den nye prosjektmappen i. For å opprette et prosjekt som heter <strong>stat-testprod</strong> så skriver du følgende i terminalen:</p></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ssb-project</span> create stat-testprod</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="grid">
<div class="g-col-8">
<p>Hvis du stod i hjemmemappen din på når du skrev inn kommandoen over i terminalen, så har du fått mappestrukturen som vises i <a href="#fig-ssb-proj-folder" class="quarto-xref">Figur&nbsp;1</a>. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Den inneholder følgende :</p>
<ul>
<li><strong>.git</strong>-mappe som blir opprettet for å versjonshåndtere med Git.</li>
<li><strong>src</strong>-mappe som skal inneholde all koden som utgjør produksjonsløpet. src er kort for <em>source</em></li>
<li><strong>tests</strong>-mappe som inneholder tester du skriver for koden din.</li>
<li><strong>LICENCE</strong>-fil som skal benyttes for public-repos i SSB.</li>
<li><strong>poetry.lock</strong>-fil som inneholder alle versjoner av Python-pakker som blir brukt.</li>
<li><strong>pyproject.toml</strong>-fil som inneholder informasjon om prosjektet og hvilke pakker som blir brukt.</li>
<li><strong>README.md</strong>-fil som brukes for tekstlig innhold på GitHub-siden for prosjektet.</li>
</ul>
</div>
<div class="g-col-4">
<div id="fig-ssb-proj-folder" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Bilde av filutforskeren i Jupyterlab med en mappe laget av ssb-project">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-proj-folder-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../images/ssbproject_folders.png" class="img-fluid figure-img" alt="Bilde av filutforskeren i Jupyterlab med en mappe laget av ssb-project">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-proj-folder-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;1: Mappen som ble opprettet av ssb-project.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="med-github-repo" class="level3">
<h3 class="anchored" data-anchor-id="med-github-repo">Med Github-repo</h3>
<p>Over så opprettet vi et <strong>ssb-project</strong> uten å opprette et GitHub-repo. Hvis du ønsker å opprette et GitHub-repo også må du endre kommandoen over til:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ssb-project</span> create stat-testprod <span class="at">--github</span> <span class="at">--github-token</span><span class="op">=</span><span class="st">'blablabla'</span></span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Kommandoen over oppretter en mappestruktur slik vi så tidligere, men også et ssb-project som heter <strong>stat-testprod</strong> med et GitHub-repo med samme navn. Som du ser så må vi da sende med opsjonen <code>--github</code> og PAT med opsjonen <code>--github-token='blablabla'</code>. Repoet i GitHub ser da ut som i <a href="#fig-ssb-proj-github" class="quarto-xref">Figur&nbsp;2</a>. Hvis du ønsker å slippe å måtte forholde deg til PAT hver gang interagerer med GitHub, kan du følge <a href="./git-og-github.html#personal-access-token-(pat)">denne beskrivelsen</a> for å lagre den lokalt. Da kan droppe <code>--github-token='blablabla'</code> fra kommandoen over.</p>
<div id="fig-ssb-proj-github" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Bilde av et GitHub-repo som ble opprettet av ssb-project">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-proj-github-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../images/ssbproject_github.png" class="img-fluid figure-img" alt="Bilde av et GitHub-repo som ble opprettet av ssb-project">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-proj-github-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;2: GitHub-repo som er opprettet av ssb-project
</figcaption>
</figure>
</div>
<div class="callout callout-style-simple callout-warning">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Når du har opprettet et nytt ssb-project, eller bygget et eksisterende prosjekt, så kan det ta rundt 30 sekunder før kernelen viser seg i Jupterlab-launcher. Vær tålmodig!</p>
</div>
</div>
</div>
</section>
</section>
<section id="bygg-eksisterende-ssb-project" class="level2">
<h2 class="anchored" data-anchor-id="bygg-eksisterende-ssb-project">Bygg eksisterende ssb-project</h2>
<p>Når vi skal samarbeide med andre om kode så gjør vi dette via <strong>GitHub</strong>. Når du <em>pusher</em> koden din til GitHub, så kan samarbeidspartnere <em>pulle</em> ned koden og jobbe videre med den. Men når de henter ned koden så vil de bare hente ned selve koden, ikke pakker og Python-versjonen som ble brukt. De må installere alt som du hadde installert. I tillegg trenger de en kernel hvis de skal jobbe i Jupyterlab. <strong>ssb-project</strong> gjør det svært enkelt å bygge opp det du trenger, siden det virtuelle miljøet har all informasjon om hva som trengs.</p>
<p>For at samarbeidspartneren din skal kunne bygge miljøet på nytt, må de ha gjort en minimal konfigurering av Git. <a href="../statistikkere/git-og-github.html#oppsett-av-git">Les mer om hvordan</a> du frem for å gjøre dette her.</p>
<p>For å bygge opp et eksisterende miljø gjør du følgende:</p>
<ol type="1">
<li>Først må du kopiere prosjektet ned lokalt, eller <em>klone</em> repoet med git-terminologi</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/statisticsnorway/<span class="op">&lt;</span>prosjektnavn<span class="op">&gt;</span></span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Gå inn i mappen du klonet</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="op">&lt;</span>prosjektnavn<span class="op">&gt;</span></span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Skape et virtuelt miljø og installere en tilsvarende Jupyter kernel med</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ssb-project</span> build</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="slette-ssb-project" class="level2">
<h2 class="anchored" data-anchor-id="slette-ssb-project">Slette ssb-project</h2>
<p>Det vil være tilfeller hvor man ønsker å slette et ssb-project, enten fordi man ikke trenger koden lenger eller fordi man bare testet litt.</p>
<section id="lokalt" class="level3">
<h3 class="anchored" data-anchor-id="lokalt">Lokalt</h3>
<p>Hvis man jobber med flere prosjekter så kan det fort bli mange Jupyter kerneler hengende igjen. Derfor er det også mulighet å kjøre</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ssb-project</span> clean stat-testprod</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>som sletter Jupyter-kernelen og de installerte pakkene i prosjektet. Hvis du også ønsker å slette selve mappen med kode må du gjøre det manuelt<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb9" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> ~/stat-testprod/</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Prosjektmappen over lå direkte i hjemmemappen min og hjemmemappen på Linux kan alltid referes til med et tilda-tegn <strong>~</strong>.</p>
</section>
<section id="arkiver-github-repo" class="level3">
<h3 class="anchored" data-anchor-id="arkiver-github-repo">Arkiver GitHub-repo</h3>
<p>GitHub-repoer som er opprettet under SSB sin organinasjons <a href="">statisticsnorway</a> på GitHub kan ikke slettes, bare arkiveres. Grunnen er at hvis man oppdager en sårbarhet senere så er det viktig å kunne se repoet for å forstå hva som har skjedd.</p>
<p>Hvis du ikke trenger et GitHub-repo lenger kan man <strong>arkivere repoet</strong>. Det gjør du på følgende måte:</p>
<ol type="1">
<li>Gi inn i repoet <strong>Settings</strong> slik som vist med rød pil i <a href="#fig-github-repo-settings" class="quarto-xref">Figur&nbsp;3</a>.</li>
</ol>
<div id="fig-github-repo-settings" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Bilde som viser hvor Settings til et spesifikt repo">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-github-repo-settings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../images/github_repo_settings.png" class="img-fluid figure-img" alt="Bilde som viser hvor Settings til et spesifikt repo">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-github-repo-settings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;3: Settings for repoet.
</figcaption>
</figure>
</div>
<ol start="2" type="1">
<li>Under <strong>General</strong> scroller du deg ned til delen som heter <strong>Danger Zone</strong> og velger <strong>Archive this repository</strong>, slik som vist på <a href="#fig-github-repo-settings-archive" class="quarto-xref">Figur&nbsp;4</a>.</li>
</ol>
<div id="fig-github-repo-settings-archive" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Bilde som viser hvordan man arkiverer et repo.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-github-repo-settings-archive-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../images/github_repo_settings_archive.png" class="img-fluid figure-img" alt="Bilde som viser hvordan man arkiverer et repo.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-github-repo-settings-archive-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;4: Arkivering av et repo.
</figcaption>
</figure>
</div>
<ol start="3" type="1">
<li>I dialogboksen som dukker opp fyller du inn reponavnet som beskrevet og trykker på <strong>I understand the consequences, archive this repository</strong>.</li>
</ol>
<p>Når det er gjort så er repoet lesbart, men man kan ikke jobbe med det. Men som vi ser av @#fig-github-repo-settings-archive-warning kan man omgjøre arkiveringen senere hvis det skulle være ønskelig.</p>
</section>
</section>
<section id="spark-i-ssb-project" class="level2">
<h2 class="anchored" data-anchor-id="spark-i-ssb-project">Spark i ssb-project</h2>
<p>For å kunne bruke <a href="./spark.html">Spark</a> i et <strong>ssb-project</strong> må man først installere <a href="https://spark.apache.org/docs/latest/api/python/index.html">pyspark</a>. Det gjør du ved å skrive følgende i en terminal:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb10" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">poetry</span> add pyspark==<span class="va">$(</span><span class="ex">pip</span> show pyspark <span class="kw">|</span> <span class="fu">grep</span> Version <span class="kw">|</span> <span class="fu">egrep</span> <span class="at">-o</span> <span class="st">"([0-9]{1,}\.)+[0-9]{1,}"</span><span class="va">)</span> <span class="at">--no-dev</span></span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Her installerer du samme versjon av pyspark som på Jupyterlab.</p>
<p>Videre kan vi konfigurere Spark til å enten kjøre på lokal maskin eller på flere maskiner (såkalte <em>clusters</em>). Under beskriver vi begge variantene.</p>
<section id="lokal-maskin" class="level3">
<h3 class="anchored" data-anchor-id="lokal-maskin">Lokal maskin</h3>
<p>Oppsettet for Pyspark på lokal maskin er det enkleste å sette opp siden Pyspark vil ha direkte tilgang til det lokale filsystemet. Man kan bruke miljøvariabelen <code>PYSPARK_PYTHON</code> til å peke på det virtuelle miljøet, og dermed vil Pyspark også ha tilgang til alle pakkene som er installert der. I en notebook vil dette kunne settes opp slik:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb11" data-filename="notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Finner filstien til det virtuelle miljøet</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>python_path <span class="op">=</span> subprocess.run([<span class="st">'poetry'</span>, <span class="st">'run'</span>, <span class="st">'which'</span>, <span class="st">'python'</span>],</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                             capture_output<span class="op">=</span><span class="va">True</span>, text<span class="op">=</span><span class="va">True</span>).stdout.rstrip(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">"PYSPARK_PYTHON"</span>] <span class="op">=</span> python_path</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">"PYSPARK_SUBMIT_ARGS"</span>] <span class="op">=</span> os.environ[<span class="st">"PYSPARK_LOCAL_SUBMIT_ARGS"</span>]</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Når du oppretter en Notebook og bruker den kernelen du har laget så må du alltid ha denne på toppen av notebooken. Det initialiserer Spark slik at det kan brukes i notebooken.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb12" data-filename="notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>run <span class="op">/</span>usr<span class="op">/</span>local<span class="op">/</span>share<span class="op">/</span>jupyter<span class="op">/</span>kernels<span class="op">/</span>pyspark_local<span class="op">/</span>init.py</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dette scriptet vil sette et <code>spark</code> objekt som brukes for å kalle API’et til pyspark.</p>
</section>
<section id="cluster" class="level3">
<h3 class="anchored" data-anchor-id="cluster">Cluster</h3>
<p>Hvis man vil kjøre Pyspark i et cluster (dvs. på flere maskiner) så vil databehandlingen foregå på andre maskiner som ikke har tilgang til det lokale filsystemet. Man må dermed lage en “pakke” av det virtuelle miljøet på lokal maskin og tilgjengeliggjøre dette for alle maskinene i clusteret. For å lage en slik “pakke” kan man bruke et bibliotek som heter <code>venv-pack</code>. Dette kan kjøres fra et terminalvindu slik:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb13" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">venv-pack</span> <span class="at">-p</span> .venv <span class="at">-o</span> pyspark_venv.tar.gz</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Merk at kommandoen over må kjøres fra rot-mappen i prosjektet ditt. Her er <code>pyspark_venv.tar.gz</code> et tilfeldig valgt filnavn, men dette filnavnet skal brukes videre i notebooken.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb14" data-filename="notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Miljøvariabel som peker på en utpakket versjon av det virtuelle miljøet</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">"PYSPARK_PYTHON"</span>] <span class="op">=</span> <span class="st">"./environment/bin/python"</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Legg til et flagg, --archives, som peker på "pakken" med det virtuelle miljøet</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>conf <span class="op">=</span> os.environ[<span class="st">"PYSPARK_K8S_SUBMIT_ARGS"</span>].split(<span class="st">' '</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>last_index <span class="op">=</span> conf.index(<span class="st">'pyspark-shell'</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>conf[last_index:last_index] <span class="op">=</span> [<span class="st">'--archives'</span>, <span class="st">'pyspark_venv.tar.gz#environment'</span>]</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">"PYSPARK_SUBMIT_ARGS"</span>] <span class="op">=</span> <span class="st">' '</span>.join(conf)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Når du oppretter en Notebook og bruker den kernelen du har laget så må du alltid ha denne på toppen av notebooken. Det initialiserer Spark slik at det kan brukes i notebooken.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb15" data-filename="notebook"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>run <span class="op">/</span>usr<span class="op">/</span>local<span class="op">/</span>share<span class="op">/</span>jupyter<span class="op">/</span>kernels<span class="op">/</span>pyspark_k8s<span class="op">/</span>init.py</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dette scriptet vil sette et <code>spark</code> objekt som brukes for å kalle API’et til pyspark.</p>
</section>
</section>
<section id="tips-og-triks" class="level2">
<h2 class="anchored" data-anchor-id="tips-og-triks">Tips og triks</h2>
<p>I denne delen av kapitlet vil vi gi deg noen tips og triks som kan være nyttige når du jobber med <strong>ssb-project</strong>.</p>
<section id="poetry" class="level3">
<h3 class="anchored" data-anchor-id="poetry">Poetry</h3>
<p><strong>ssb-project</strong> bruker <a href="https://python-poetry.org/docs/">Poetry</a> for å håndtere virtuelle miljøer. Poetry er et verktøy som gjør det enkelt å installere pakker og håndtere versjoner av disse. Det er også Poetry som håndterer Jupyter-kernelen for deg.</p>
<p>Hvis du etterlyser funksjonalitet i et ssb-project så kan det være nyttig å lese dokumentasjonen til Poetry for å se om det er mulig å få til det du ønsker. Les også vår egne artikkel Poetry og SSB-project - <a href="../statistikkere/poetry-ssb-project.html">Pakkehåndtering i Python</a>.</p>
</section>
<section id="full-disk-på-dapla" class="level3">
<h3 class="anchored" data-anchor-id="full-disk-på-dapla">Full disk på Dapla</h3>
<p><a href="../statistikkere/hva-er-botter.html#lokalt-filsystem-på-dapla">Det “lokale” filsystemet</a> på Dapla har kun <strong>10GB</strong> diskplass. Har du mange virtuelle miljøer på denne disken kan det fort bli fullt, siden alle pakker blir installert her. Vanligvis er det 2 grunner til at disken blir full:</p>
<ol type="1">
<li><p><strong>For mange virtuelle miljøer (ssb-projects) lagret lokalt.</strong><br>
Dette vil ofte kunne løses ved å <a href="../statistikkere/jobbe-med-kode.html#slette-ssb-project">slette virtuelle miljøer</a> som ikke lenger er i bruk. Hvis du har 5 virtuelle miljøer som hver bruker 1GB, og du kun jobber på en av de nå, så vil du frigjøre 40% av disken ved å slette 4 av dem. Husk at det permanente lagringsstedet for kode er på GitHub, og du kan alltid klone ned et prosjekt senere og bygge det hvis det trengs.</p></li>
<li><p><strong><code>/home/jovyan/.cache/</code> har blitt for stort.</strong><br>
Dette er en mappe som brukes av applikasjoner til å lagre midlertidig data slik at de kan kjøre raskere. Denne kan bli ganske stor etter hvert. Ofte kan man frigjøre flere GB ved å slette denne. Du sletter denne mappen ved å skrive følgende i en terminal:</p></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb16" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> /home/jovyan/.cache/</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hvis du opplever at disken er full, så kan det anbefales å undersøke hvilke mapper som tar størst plass med følgende kommando i terminalen:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb17" data-filename="terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ~ <span class="kw">&amp;&amp;</span> <span class="fu">du</span> <span class="at">-h</span> <span class="at">--max-depth</span><span class="op">=</span>5 <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-rh</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 10 <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> <span class="at">-</span></span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Kommandoen over sjekker, fra hjemmemappen din, hvilke mapper og undermapper som tar mest plass. Den viser de 10 største mappene. Hvis du ønsker å se flere mapper så kan du endre tallet etter <strong>head -n</strong>. Hvis du ønsker å se alle mapper så kan du fjerne <strong>head -n</strong>. <code>--max-depth=5</code> betyr at den kun sjekker mapper som er 5 mapper dype fra hjemmemappen din.</p>
<p>Når du har gjort det kan selv vurdere hvilke som kan slettes for å frigjøre plass.</p>
</section>
</section>
<section id="r-og-renv" class="level1">
<h1>R og renv</h1>
<p>R-pakken, <a href="https://rstudio.github.io/renv/articles/renv.html"><code>renv</code></a>, er et verktøy som lar oss opprette et miljø for R og installere pakker. Det er anbefalt å bruke renv for å sikre at alle som jobber med prosjektet har samme versjon av pakkene. I tillegg er det enkelt å dele prosjektet med andre.</p>
<p>Oppretting av renv-miljø og installering av pakker må gjøres fra terminal for å få riktig oppsett. For å starte R i terminalen i Jupyter/DAPLA:</p>
<ol type="1">
<li>Åpne en terminal fra Launcher</li>
<li>Stå i mappen der du vil aktivere det virtuelle miljøet/installere pakker, dvs prosjekt mappen.</li>
<li>Starte R ved å skrive in <code>R</code></li>
</ol>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927091838?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="Start R i terminal">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
<section id="starte-renv-i-et-eksisterende-prosjekt" class="level3">
<h3 class="anchored" data-anchor-id="starte-renv-i-et-eksisterende-prosjekt">Starte renv i et eksisterende prosjekt</h3>
<p>For å installere dine egne R-pakker må du opprette et renv-miljø med <strong>renv</strong>. Dette kan gjøres ved å starte R i terminalen (se over) og skrive:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb18" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">init</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927094706?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="init">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
<p>Kommandoen aktiverer et renv-miljø i mappen du står i. Rent praktisk vil det si at du fikk følgende filer/mapper i mappen din:</p>
<ul>
<li><p><strong>renv.lock</strong><br>
En fil som inneholder versjoner av alle pakker du benytter i koden din.</p></li>
<li><p><strong>.Rprofile</strong> En fil som inneholder informasjon om oppsetting av miljø.</p></li>
<li><p><strong>renv</strong><br>
Mappe som inneholder alle pakkene du installerer.</p></li>
<li><p><strong>renv/activate.R</strong> En fil som aktiverer renv miljøet for et prosjekt.</p></li>
</ul>
</section>
<section id="kobler-en-.r-eller-notebook-fil-til-et-renv-miljø" class="level3">
<h3 class="anchored" data-anchor-id="kobler-en-.r-eller-notebook-fil-til-et-renv-miljø">Kobler en .R eller notebook fil til et renv-miljø</h3>
<p>For å ta i bruk et renv-miljø må det aktiveres ved starten av koden som skal kjøres. I JupyterLab når du åpner en .R-fil som en notebook må renv-miljøet aktiveres ved:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb19" data-filename="notebook"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">autoload</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Deretter kan du benytte pakker som er installerte (se neste avsnitt) og funksjoner ved <code>library()</code> osv. Funkjsonen <code>renv::autoload()</code> vil lete etter filene i prosjektet for å aktivere miljøet, både i prosjekt-mappen og i foreldre-mapper.</p>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927094616?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="autoload">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
</section>
<section id="installering-av-pakker" class="level3">
<h3 class="anchored" data-anchor-id="installering-av-pakker">Installering av pakker</h3>
<p>Pakker kan installeres fra R på terminalen eller i en notebook/.R fil. Vi installerer pakker med funksjonen <code>renv::install()</code>. For eksempel, for å installere pakken <a href="https://cran.r-project.org/web/packages/PxWebApiData/vignettes/Introduction.html">PxWebApiData</a>:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb20" data-filename="notebook"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"PxWebApiData"</span>)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927097853?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="install-pakke">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
<p>For å installere R-pakker som ligger på ‘statisticsnorway’ området på github må det spesifiseres foran pakkenavnet:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb21" data-filename="notebook"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"statisticsnorway/ssb-klassr"</span>)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927094840?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="install-ssb-pakke">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
<p>For å installere en spesifikk versjon av en pakke kan du spesifisere dette med installering med <code>@</code> og versjonsnummer. For eksempel å installere <code>PxWEbApiData</code> versjon 0.4.0:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb22" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"PxWebApiData@0.4.0"</span>)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For å lagre versjonsnummer av de nye pakkene som er installerte til <em>renv.lock</em> filen, kjør:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb23" data-filename="notebook"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">renv::snapshot()</span><span class="st">`</span></span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dele-prosjektet-og-renv-miljøet-med-andre" class="level3">
<h3 class="anchored" data-anchor-id="dele-prosjektet-og-renv-miljøet-med-andre">Dele prosjektet og renv-miljøet med andre</h3>
<p>Før du deler prosjektet forsikre det om at <em>renv.lock</em>-filen er oppdatert. Dette kan gjøres ved å kjøre:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>notebook</strong></pre>
</div>
<div class="sourceCode" id="cb24" data-filename="notebook"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For at en pakke skal lagres i <em>renv.lock</em> må pakken benyttes ved <code>library()</code> et sted i prosjektet (på en .R eller .ipynb fil).</p>
<p>For å dele renv-miljøet som en del av prosjektet skal følgende filene være på github: <em>renv.lock</em>, <em>.Rprofile</em> og <em>renv/activate.R</em></p>
</section>
<section id="ta-i-bruk-et-prosjekt-og-renv-miljø-fra-andre" class="level3">
<h3 class="anchored" data-anchor-id="ta-i-bruk-et-prosjekt-og-renv-miljø-fra-andre">Ta i bruk et prosjekt og renv-miljø fra andre</h3>
<p>Hvis prosjektet er opprettet av noen andre, og har blitt delt med deg, kan alle pakkene i prosjektet installeres samtidig. Clone repository og start deretter R i terminalen. Kjør følgende for å installere alle nødvendige pakker:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb25" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">:</span><span class="fu">restore</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927134123?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="clone-restore">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
</section>
<section id="avinstallering" class="level3">
<h3 class="anchored" data-anchor-id="avinstallering">Avinstallering</h3>
<p>Individuelle pakker kan fjernes fra renv-miljøet ved <code>renv::remove()</code>-funksjonen. For eksempel:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb26" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">remove</span>(<span class="st">"PxWebApiData"</span>)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For å fjerne fra <em>renv.lock</em>-filen også må du ta en <code>snapshot()</code> etterpå.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb27" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En annen nyttig funksjon er <code>renv::clean()</code>. Dette fjerner alle pakker fra library som ikke er i bruk</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb28" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">clean</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Igjen må du ta en <code>snapshot()</code> for at endringer skal lagres på <em>renv.lock</em>-filen</p>
</section>
<section id="oppgradere-pakker" class="level3">
<h3 class="anchored" data-anchor-id="oppgradere-pakker">Oppgradere pakker</h3>
<p>For å oppgradere en pakke kan du bruke <code>renv::update()</code>. For eksempel, for å oppgradere <code>PxWebApiData</code> skriv:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb29" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">update</span>(<span class="st">"PxWebApiData"</span>)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Husk å ta en <code>snapshot()</code> etterpå for å lagre endringer til <em>renv.lock</em>-filen. Det betyr at du og andre kan gjenskape miljøet på nytt.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb30" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="oppgradering-av-r" class="level3">
<h3 class="anchored" data-anchor-id="oppgradering-av-r">Oppgradering av R</h3>
<p>I Jupyterlab på Dapla og i produksjonssone vil versjonen av R oppgraderes jevnlig. Dette er fordi operativsystemet og programmer som R er avhengig skal holdes oppdatert. For at R skal fungere optimalt må det oppgraderes ofte. Dette skaper noen utfordringer for renv-miljøer som er avhengig av en spesifikk versjon av R.</p>
<p>Hvis du plutselig får en feilmelding ved oppstart eller når du kjøre <code>renv::autoload()</code>, om at R-versjonen er forskjellig fra det den som e r oppgitt lock-filen, har det trolig vært en oppgradering av R siden sist noen jobbet med koden. Følg denne oppskriften for å løse opp i problemene:</p>
<p>Benytt prosjekt-biblioteket ved å kjøre:</p>
<ol type="1">
<li><p>Start R i terminal.</p></li>
<li><p>Oppgrader versjon av renv ved:</p></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb31" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">upgrade</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Oppgrader alle pakkene ved:</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb32" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">hydrate</span>(<span class="at">update =</span> <span class="st">"all"</span>)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Lagre <em>renv.lock</em> filen:</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb33" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927098000?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="upgrade-R">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
<p>For mer informasjon kan du lese denne <a href="https://inbo.github.io/tutorials/tutorials/r_renv_update/">artikkelen om oppdatering av renv her</a></p>
</section>
<section id="ta-det-lang-tid-til-å-starte-et-renv-miljø" class="level3">
<h3 class="anchored" data-anchor-id="ta-det-lang-tid-til-å-starte-et-renv-miljø">Ta det lang tid til å starte et renv-miljø?</h3>
<p>Ved å aktivere et renv-miljø ved <code>renv::autoload()</code> søker R i alle programfiler for å sjekke at alle pakker som benyttes er installerte. Hvis du har en veldig stor repository kan dette ta en lang tid. En løsning er å opprette en <code>.renvignore</code> fil som spesifisere hvilke filer skal ignoreres. For eksempel om alle R kode ligger i .R filer kan <code>.renvignore</code> inneholder *.ipynb (ignorere all notebook filer).</p>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927094915?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="renvignore">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
</section>
<section id="flytting-mellom-jupyter-på-bakken-og-dapla" class="level3">
<h3 class="anchored" data-anchor-id="flytting-mellom-jupyter-på-bakken-og-dapla">Flytting mellom jupyter på bakken og Dapla</h3>
<p>Pakker installeres fra forkjellige sted når vi jobber på Dapla vs jupyter på bakken. For å benytte et renv-miljø i Jupyter som var laget i Jupyter på bakken må vi endre repository i <em>renv.lock</em>-filen.</p>
<div style="padding:56.75% 0 0 0;position:relative;">
<iframe src="https://player.vimeo.com/video/927094748?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="lock-update">
</iframe>
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
</section>
<section id="pakke-installering-med-renv-på-bakken" class="level3">
<h3 class="anchored" data-anchor-id="pakke-installering-med-renv-på-bakken">Pakke installering med renv på bakken</h3>
<p>Prosessen med å installere pakker for R på bakken er det samme som <a href="../statistikkere/jobbe-med-kode.html#installering-av-pakker">på Dapla</a>. Noen pakker (for eksempel <code>devtools</code>) kan foreløpig ikke installeres på bakken på egenhånd pga 3. parti avhengigheter. Vi jobber med å finne en løsning til dette.</p>
<p>For å installere <code>arrow</code>, kopier og kjør følgende kommando i R:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>terminal</strong></pre>
</div>
<div class="sourceCode" id="cb34" data-filename="terminal"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"/ssb/bruker/felles/R_pakker/arrow_11.0.0.2.tar.gz"</span>,</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">repos =</span> <span class="cn">NULL</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">type =</span> <span class="st">"source"</span>)</span></code><button title="Kopier til utklippstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fotnoter</h2>

<ol>
<li id="fn1"><p>Filer og mapper som starter med punktum er skjulte med mindre man ber om å se dem. I Jupyterlab kan disse vises i filutforskeren ved å velge <strong>View</strong> fra menylinjen, og deretter velge <strong>Show hidden files</strong>. I en terminal skriver man <code>ls -a</code> for å se de.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Dette kan også gjøres ved å høyreklikke på mappen i Jupyterlab sin filutforsker og velge <strong>Delete</strong>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/manual\.dapla\.ssb\.no");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../statistikkere/git-og-github.html" class="pagination-link" aria-label="Kode">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Kode</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../statistikkere/poetry-ssb-project.html" class="pagination-link" aria-label="Pakkehåndtering i Python">
        <span class="nav-page-text">Pakkehåndtering i Python</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This site is heavily inspired by the <a href="https://quarto.org/">Quarto website</a>.</p>
</div>   
    <div class="nav-footer-center">
<p>Kom i gang med Dapla</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/statisticsnorway/dapla-manual/edit/main/dapla-manual/statistikkere/ssb-project.qmd" class="toc-action"><i class="bi bi-github"></i>Rediger siden</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/issues/new" class="toc-action"><i class="bi empty"></i>Rapporter feil</a></li><li><a href="https://github.com/statisticsnorway/dapla-manual/blob/main/dapla-manual/statistikkere/ssb-project.qmd" class="toc-action"><i class="bi empty"></i>Vis kilde</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>